var M_=Object.defineProperty;var O_=(s,u,i)=>u in s?M_(s,u,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[u]=i;var pt=(s,u,i)=>(O_(s,typeof u!="symbol"?u+"":u,i),i);(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))h(l);new MutationObserver(l=>{for(const b of l)if(b.type==="childList")for(const g of b.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&h(g)}).observe(document,{childList:!0,subtree:!0});function i(l){const b={};return l.integrity&&(b.integrity=l.integrity),l.referrerPolicy&&(b.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?b.credentials="include":l.crossOrigin==="anonymous"?b.credentials="omit":b.credentials="same-origin",b}function h(l){if(l.ep)return;l.ep=!0;const b=i(l);fetch(l.href,b)}})();function Vt(){}const Za=s=>s;function Xa(s,u){for(const i in u)s[i]=u[i];return s}function Ja(s){return s()}function Ba(){return Object.create(null)}function cr(s){s.forEach(Ja)}function io(s){return typeof s=="function"}function hr(s,u){return s!=s?u==u:s!==u||s&&typeof s=="object"||typeof s=="function"}let Bi;function L_(s,u){return Bi||(Bi=document.createElement("a")),Bi.href=u,s===Bi.href}function B_(s){return Object.keys(s).length===0}function D_(s,...u){if(s==null)return Vt;const i=s.subscribe(...u);return i.unsubscribe?()=>i.unsubscribe():i}function Lr(s,u,i){s.$$.on_destroy.push(D_(u,i))}function P_(s,u,i,h){if(s){const l=$a(s,u,i,h);return s[0](l)}}function $a(s,u,i,h){return s[1]&&h?Xa(i.ctx.slice(),s[1](h(u))):i.ctx}function z_(s,u,i,h){if(s[2]&&h){const l=s[2](h(i));if(u.dirty===void 0)return l;if(typeof l=="object"){const b=[],g=Math.max(u.dirty.length,l.length);for(let v=0;v<g;v+=1)b[v]=u.dirty[v]|l[v];return b}return u.dirty|l}return u.dirty}function W_(s,u,i,h,l,b){if(l){const g=$a(u,i,h,b);s.p(g,l)}}function U_(s){if(s.ctx.length>32){const u=[],i=s.ctx.length/32;for(let h=0;h<i;h++)u[h]=-1;return u}return-1}const Qa=typeof window<"u";let N_=Qa?()=>window.performance.now():()=>Date.now(),uo=Qa?s=>requestAnimationFrame(s):Vt;const lr=new Set;function Va(s){lr.forEach(u=>{u.c(s)||(lr.delete(u),u.f())}),lr.size!==0&&uo(Va)}function H_(s){let u;return lr.size===0&&uo(Va),{promise:new Promise(i=>{lr.add(u={c:s,f:i})}),abort(){lr.delete(u)}}}function O(s,u){s.appendChild(u)}function ja(s){if(!s)return document;const u=s.getRootNode?s.getRootNode():s.ownerDocument;return u&&u.host?u:s.ownerDocument}function k_(s){const u=H("style");return q_(ja(s),u),u.sheet}function q_(s,u){return O(s.head||s,u),u.sheet}function qt(s,u,i){s.insertBefore(u,i||null)}function Wt(s){s.parentNode&&s.parentNode.removeChild(s)}function G_(s,u){for(let i=0;i<s.length;i+=1)s[i]&&s[i].d(u)}function H(s){return document.createElement(s)}function kt(s){return document.createTextNode(s)}function ct(){return kt(" ")}function tf(){return kt("")}function nf(s,u,i,h){return s.addEventListener(u,i,h),()=>s.removeEventListener(u,i,h)}function ut(s,u,i){i==null?s.removeAttribute(u):s.getAttribute(u)!==i&&s.setAttribute(u,i)}function K_(s){return Array.from(s.childNodes)}function ae(s,u){u=""+u,s.wholeText!==u&&(s.data=u)}function Da(s,u,i){s.classList[i?"add":"remove"](u)}function Y_(s,u,{bubbles:i=!1,cancelable:h=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(s,i,h,u),l}const Wi=new Map;let Ui=0;function Z_(s){let u=5381,i=s.length;for(;i--;)u=(u<<5)-u^s.charCodeAt(i);return u>>>0}function X_(s,u){const i={stylesheet:k_(u),rules:{}};return Wi.set(s,i),i}function Pa(s,u,i,h,l,b,g,v=0){const T=16.666/h;let R=`{
`;for(let Y=0;Y<=1;Y+=T){const nt=u+(i-u)*b(Y);R+=Y*100+`%{${g(nt,1-nt)}}
`}const L=R+`100% {${g(i,1-i)}}
}`,P=`__svelte_${Z_(L)}_${v}`,k=ja(s),{stylesheet:N,rules:X}=Wi.get(k)||X_(k,s);X[P]||(X[P]=!0,N.insertRule(`@keyframes ${P} ${L}`,N.cssRules.length));const J=s.style.animation||"";return s.style.animation=`${J?`${J}, `:""}${P} ${h}ms linear ${l}ms 1 both`,Ui+=1,P}function J_(s,u){const i=(s.style.animation||"").split(", "),h=i.filter(u?b=>b.indexOf(u)<0:b=>b.indexOf("__svelte")===-1),l=i.length-h.length;l&&(s.style.animation=h.join(", "),Ui-=l,Ui||$_())}function $_(){uo(()=>{Ui||(Wi.forEach(s=>{const{ownerNode:u}=s.stylesheet;u&&Wt(u)}),Wi.clear())})}let Pr;function Dr(s){Pr=s}function Q_(){if(!Pr)throw new Error("Function called outside component initialization");return Pr}function V_(s){Q_().$$.on_mount.push(s)}const or=[],De=[],Di=[],za=[],j_=Promise.resolve();let ju=!1;function tv(){ju||(ju=!0,j_.then(ef))}function zr(s){Di.push(s)}const $u=new Set;let ir=0;function ef(){if(ir!==0)return;const s=Pr;do{try{for(;ir<or.length;){const u=or[ir];ir++,Dr(u),nv(u.$$)}}catch(u){throw or.length=0,ir=0,u}for(Dr(null),or.length=0,ir=0;De.length;)De.pop()();for(let u=0;u<Di.length;u+=1){const i=Di[u];$u.has(i)||($u.add(i),i())}Di.length=0}while(or.length);for(;za.length;)za.pop()();ju=!1,$u.clear(),Dr(s)}function nv(s){if(s.fragment!==null){s.update(),cr(s.before_update);const u=s.dirty;s.dirty=[-1],s.fragment&&s.fragment.p(s.ctx,u),s.after_update.forEach(zr)}}let Rr;function ev(){return Rr||(Rr=Promise.resolve(),Rr.then(()=>{Rr=null})),Rr}function Qu(s,u,i){s.dispatchEvent(Y_(`${u?"intro":"outro"}${i}`))}const Pi=new Set;let le;function rf(){le={r:0,c:[],p:le}}function uf(){le.r||cr(le.c),le=le.p}function Bn(s,u){s&&s.i&&(Pi.delete(s),s.i(u))}function Jn(s,u,i,h){if(s&&s.o){if(Pi.has(s))return;Pi.add(s),le.c.push(()=>{Pi.delete(s),h&&(i&&s.d(1),h())}),s.o(u)}else h&&h()}const rv={duration:0};function Wa(s,u,i,h){const l={direction:"both"};let b=u(s,i,l),g=h?0:1,v=null,T=null,R=null;function L(){R&&J_(s,R)}function P(N,X){const J=N.b-g;return X*=Math.abs(J),{a:g,b:N.b,d:J,duration:X,start:N.start,end:N.start+X,group:N.group}}function k(N){const{delay:X=0,duration:J=300,easing:Y=Za,tick:nt=Vt,css:et}=b||rv,at={start:N_()+X,b:N};N||(at.group=le,le.r+=1),v||T?T=at:(et&&(L(),R=Pa(s,g,N,J,X,Y,et)),N&&nt(0,1),v=P(at,J),zr(()=>Qu(s,N,"start")),H_(vt=>{if(T&&vt>T.start&&(v=P(T,J),T=null,Qu(s,v.b,"start"),et&&(L(),R=Pa(s,g,v.b,v.duration,0,Y,b.css))),v){if(vt>=v.end)nt(g=v.b,1-g),Qu(s,v.b,"end"),T||(v.b?L():--v.group.r||cr(v.group.c)),v=null;else if(vt>=v.start){const mt=vt-v.start;g=v.a+v.d*Y(mt/v.duration),nt(g,1-g)}}return!!(v||T)}))}return{run(N){io(b)?ev().then(()=>{b=b(l),k(N)}):k(N)},end(){L(),v=T=null}}}function iv(s,u){const i={},h={},l={$$scope:1};let b=s.length;for(;b--;){const g=s[b],v=u[b];if(v){for(const T in g)T in v||(h[T]=1);for(const T in v)l[T]||(i[T]=v[T],l[T]=1);s[b]=v}else for(const T in g)l[T]=1}for(const g in h)g in i||(i[g]=void 0);return i}function uv(s){return typeof s=="object"&&s!==null?s:{}}function Br(s){s&&s.c()}function ar(s,u,i,h){const{fragment:l,after_update:b}=s.$$;l&&l.m(u,i),h||zr(()=>{const g=s.$$.on_mount.map(Ja).filter(io);s.$$.on_destroy?s.$$.on_destroy.push(...g):cr(g),s.$$.on_mount=[]}),b.forEach(zr)}function fr(s,u){const i=s.$$;i.fragment!==null&&(cr(i.on_destroy),i.fragment&&i.fragment.d(u),i.on_destroy=i.fragment=null,i.ctx=[])}function ov(s,u){s.$$.dirty[0]===-1&&(or.push(s),tv(),s.$$.dirty.fill(0)),s.$$.dirty[u/31|0]|=1<<u%31}function Wr(s,u,i,h,l,b,g,v=[-1]){const T=Pr;Dr(s);const R=s.$$={fragment:null,ctx:[],props:b,update:Vt,not_equal:l,bound:Ba(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u.context||(T?T.$$.context:[])),callbacks:Ba(),dirty:v,skip_bound:!1,root:u.target||T.$$.root};g&&g(R.root);let L=!1;if(R.ctx=i?i(s,u.props||{},(P,k,...N)=>{const X=N.length?N[0]:k;return R.ctx&&l(R.ctx[P],R.ctx[P]=X)&&(!R.skip_bound&&R.bound[P]&&R.bound[P](X),L&&ov(s,P)),k}):[],R.update(),L=!0,cr(R.before_update),R.fragment=h?h(R.ctx):!1,u.target){if(u.hydrate){const P=K_(u.target);R.fragment&&R.fragment.l(P),P.forEach(Wt)}else R.fragment&&R.fragment.c();u.intro&&Bn(s.$$.fragment),ar(s,u.target,u.anchor,u.customElement),ef()}Dr(T)}class Ur{$destroy(){fr(this,1),this.$destroy=Vt}$on(u,i){if(!io(i))return Vt;const h=this.$$.callbacks[u]||(this.$$.callbacks[u]=[]);return h.push(i),()=>{const l=h.indexOf(i);l!==-1&&h.splice(l,1)}}$set(u){this.$$set&&!B_(u)&&(this.$$.skip_bound=!0,this.$$set(u),this.$$.skip_bound=!1)}}var sr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sv(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Qt={},av={get exports(){return Qt},set exports(s){Qt=s}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(s,u){(function(){var i,h="4.17.21",l=200,b="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",g="Expected a function",v="Invalid `variable` option passed into `_.template`",T="__lodash_hash_undefined__",R=500,L="__lodash_placeholder__",P=1,k=2,N=4,X=1,J=2,Y=1,nt=2,et=4,at=8,vt=16,mt=32,Lt=64,bt=128,Dt=256,Rt=512,jt=30,en="...",Gt=800,U=16,Zt=1,_=2,p=3,S=1/0,m=9007199254740991,F=17976931348623157e292,B=0/0,z=4294967295,$=z-1,q=z>>>1,G=[["ary",bt],["bind",Y],["bindKey",nt],["curry",at],["curryRight",vt],["flip",Rt],["partial",mt],["partialRight",Lt],["rearg",Dt]],Z="[object Arguments]",wt="[object Array]",Q="[object AsyncFunction]",Ct="[object Boolean]",Ft="[object Date]",Mt="[object DOMException]",Xt="[object Error]",gt="[object Function]",At="[object GeneratorFunction]",_t="[object Map]",Pt="[object Number]",ce="[object Null]",It="[object Object]",_n="[object Promise]",$n="[object Proxy]",An="[object RegExp]",Jt="[object Set]",Hn="[object String]",on="[object Symbol]",Ae="[object Undefined]",kn="[object WeakMap]",he="[object WeakSet]",qn="[object ArrayBuffer]",Dn="[object DataView]",pe="[object Float32Array]",Tn="[object Float64Array]",Qn="[object Int8Array]",Vn="[object Int16Array]",Pn="[object Int32Array]",Gn="[object Uint8Array]",Kn="[object Uint8ClampedArray]",Te="[object Uint16Array]",ze="[object Uint32Array]",We=/\b__p \+= '';/g,Nr=/\b(__p \+=) '' \+/g,ge=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ue=/&(?:amp|lt|gt|quot|#39);/g,pr=/[&<>"']/g,Ne=RegExp(Ue.source),He=RegExp(pr.source),Hr=/<%-([\s\S]+?)%>/g,kr=/<%([\s\S]+?)%>/g,gr=/<%=([\s\S]+?)%>/g,qr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sn=/^\w*$/,vn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ke=/[\\^$.*+?()[\]{}|]/g,Gr=RegExp(ke.source),qe=/^\s+/,Kr=/\s/,lf=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,cf=/\{\n\/\* \[wrapped with (.+)\] \*/,hf=/,? & /,pf=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,gf=/[()=,{}\[\]\/\s]/,df=/\\(\\)?/g,_f=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,so=/\w*$/,vf=/^[-+]0x[0-9a-f]+$/i,mf=/^0b[01]+$/i,wf=/^\[object .+?Constructor\]$/,yf=/^0o[0-7]+$/i,bf=/^(?:0|[1-9]\d*)$/,xf=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Yr=/($^)/,Sf=/['\n\r\u2028\u2029\\]/g,Zr="\\ud800-\\udfff",Af="\\u0300-\\u036f",Tf="\\ufe20-\\ufe2f",Cf="\\u20d0-\\u20ff",ao=Af+Tf+Cf,fo="\\u2700-\\u27bf",lo="a-z\\xdf-\\xf6\\xf8-\\xff",Ff="\\xac\\xb1\\xd7\\xf7",If="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ef="\\u2000-\\u206f",Rf=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",co="A-Z\\xc0-\\xd6\\xd8-\\xde",ho="\\ufe0e\\ufe0f",po=Ff+If+Ef+Rf,Ni="['’]",Mf="["+Zr+"]",go="["+po+"]",Xr="["+ao+"]",_o="\\d+",Of="["+fo+"]",vo="["+lo+"]",mo="[^"+Zr+po+_o+fo+lo+co+"]",Hi="\\ud83c[\\udffb-\\udfff]",Lf="(?:"+Xr+"|"+Hi+")",wo="[^"+Zr+"]",ki="(?:\\ud83c[\\udde6-\\uddff]){2}",qi="[\\ud800-\\udbff][\\udc00-\\udfff]",Ge="["+co+"]",yo="\\u200d",bo="(?:"+vo+"|"+mo+")",Bf="(?:"+Ge+"|"+mo+")",xo="(?:"+Ni+"(?:d|ll|m|re|s|t|ve))?",So="(?:"+Ni+"(?:D|LL|M|RE|S|T|VE))?",Ao=Lf+"?",To="["+ho+"]?",Df="(?:"+yo+"(?:"+[wo,ki,qi].join("|")+")"+To+Ao+")*",Pf="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",zf="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Co=To+Ao+Df,Wf="(?:"+[Of,ki,qi].join("|")+")"+Co,Uf="(?:"+[wo+Xr+"?",Xr,ki,qi,Mf].join("|")+")",Nf=RegExp(Ni,"g"),Hf=RegExp(Xr,"g"),Gi=RegExp(Hi+"(?="+Hi+")|"+Uf+Co,"g"),kf=RegExp([Ge+"?"+vo+"+"+xo+"(?="+[go,Ge,"$"].join("|")+")",Bf+"+"+So+"(?="+[go,Ge+bo,"$"].join("|")+")",Ge+"?"+bo+"+"+xo,Ge+"+"+So,zf,Pf,_o,Wf].join("|"),"g"),qf=RegExp("["+yo+Zr+ao+ho+"]"),Gf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Kf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Yf=-1,Ot={};Ot[pe]=Ot[Tn]=Ot[Qn]=Ot[Vn]=Ot[Pn]=Ot[Gn]=Ot[Kn]=Ot[Te]=Ot[ze]=!0,Ot[Z]=Ot[wt]=Ot[qn]=Ot[Ct]=Ot[Dn]=Ot[Ft]=Ot[Xt]=Ot[gt]=Ot[_t]=Ot[Pt]=Ot[It]=Ot[An]=Ot[Jt]=Ot[Hn]=Ot[kn]=!1;var Et={};Et[Z]=Et[wt]=Et[qn]=Et[Dn]=Et[Ct]=Et[Ft]=Et[pe]=Et[Tn]=Et[Qn]=Et[Vn]=Et[Pn]=Et[_t]=Et[Pt]=Et[It]=Et[An]=Et[Jt]=Et[Hn]=Et[on]=Et[Gn]=Et[Kn]=Et[Te]=Et[ze]=!0,Et[Xt]=Et[gt]=Et[kn]=!1;var Zf={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Xf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Jf={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},$f={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Qf=parseFloat,Vf=parseInt,Fo=typeof sr=="object"&&sr&&sr.Object===Object&&sr,jf=typeof self=="object"&&self&&self.Object===Object&&self,tn=Fo||jf||Function("return this")(),Ki=u&&!u.nodeType&&u,Ce=Ki&&!0&&s&&!s.nodeType&&s,Io=Ce&&Ce.exports===Ki,Yi=Io&&Fo.process,Cn=function(){try{var w=Ce&&Ce.require&&Ce.require("util").types;return w||Yi&&Yi.binding&&Yi.binding("util")}catch{}}(),Eo=Cn&&Cn.isArrayBuffer,Ro=Cn&&Cn.isDate,Mo=Cn&&Cn.isMap,Oo=Cn&&Cn.isRegExp,Lo=Cn&&Cn.isSet,Bo=Cn&&Cn.isTypedArray;function mn(w,C,A){switch(A.length){case 0:return w.call(C);case 1:return w.call(C,A[0]);case 2:return w.call(C,A[0],A[1]);case 3:return w.call(C,A[0],A[1],A[2])}return w.apply(C,A)}function tl(w,C,A,W){for(var rt=-1,yt=w==null?0:w.length;++rt<yt;){var Kt=w[rt];C(W,Kt,A(Kt),w)}return W}function Fn(w,C){for(var A=-1,W=w==null?0:w.length;++A<W&&C(w[A],A,w)!==!1;);return w}function nl(w,C){for(var A=w==null?0:w.length;A--&&C(w[A],A,w)!==!1;);return w}function Do(w,C){for(var A=-1,W=w==null?0:w.length;++A<W;)if(!C(w[A],A,w))return!1;return!0}function de(w,C){for(var A=-1,W=w==null?0:w.length,rt=0,yt=[];++A<W;){var Kt=w[A];C(Kt,A,w)&&(yt[rt++]=Kt)}return yt}function Jr(w,C){var A=w==null?0:w.length;return!!A&&Ke(w,C,0)>-1}function Zi(w,C,A){for(var W=-1,rt=w==null?0:w.length;++W<rt;)if(A(C,w[W]))return!0;return!1}function Bt(w,C){for(var A=-1,W=w==null?0:w.length,rt=Array(W);++A<W;)rt[A]=C(w[A],A,w);return rt}function _e(w,C){for(var A=-1,W=C.length,rt=w.length;++A<W;)w[rt+A]=C[A];return w}function Xi(w,C,A,W){var rt=-1,yt=w==null?0:w.length;for(W&&yt&&(A=w[++rt]);++rt<yt;)A=C(A,w[rt],rt,w);return A}function el(w,C,A,W){var rt=w==null?0:w.length;for(W&&rt&&(A=w[--rt]);rt--;)A=C(A,w[rt],rt,w);return A}function Ji(w,C){for(var A=-1,W=w==null?0:w.length;++A<W;)if(C(w[A],A,w))return!0;return!1}var rl=$i("length");function il(w){return w.split("")}function ul(w){return w.match(pf)||[]}function Po(w,C,A){var W;return A(w,function(rt,yt,Kt){if(C(rt,yt,Kt))return W=yt,!1}),W}function $r(w,C,A,W){for(var rt=w.length,yt=A+(W?1:-1);W?yt--:++yt<rt;)if(C(w[yt],yt,w))return yt;return-1}function Ke(w,C,A){return C===C?vl(w,C,A):$r(w,zo,A)}function ol(w,C,A,W){for(var rt=A-1,yt=w.length;++rt<yt;)if(W(w[rt],C))return rt;return-1}function zo(w){return w!==w}function Wo(w,C){var A=w==null?0:w.length;return A?Vi(w,C)/A:B}function $i(w){return function(C){return C==null?i:C[w]}}function Qi(w){return function(C){return w==null?i:w[C]}}function Uo(w,C,A,W,rt){return rt(w,function(yt,Kt,Tt){A=W?(W=!1,yt):C(A,yt,Kt,Tt)}),A}function sl(w,C){var A=w.length;for(w.sort(C);A--;)w[A]=w[A].value;return w}function Vi(w,C){for(var A,W=-1,rt=w.length;++W<rt;){var yt=C(w[W]);yt!==i&&(A=A===i?yt:A+yt)}return A}function ji(w,C){for(var A=-1,W=Array(w);++A<w;)W[A]=C(A);return W}function al(w,C){return Bt(C,function(A){return[A,w[A]]})}function No(w){return w&&w.slice(0,Go(w)+1).replace(qe,"")}function wn(w){return function(C){return w(C)}}function tu(w,C){return Bt(C,function(A){return w[A]})}function dr(w,C){return w.has(C)}function Ho(w,C){for(var A=-1,W=w.length;++A<W&&Ke(C,w[A],0)>-1;);return A}function ko(w,C){for(var A=w.length;A--&&Ke(C,w[A],0)>-1;);return A}function fl(w,C){for(var A=w.length,W=0;A--;)w[A]===C&&++W;return W}var ll=Qi(Zf),cl=Qi(Xf);function hl(w){return"\\"+$f[w]}function pl(w,C){return w==null?i:w[C]}function Ye(w){return qf.test(w)}function gl(w){return Gf.test(w)}function dl(w){for(var C,A=[];!(C=w.next()).done;)A.push(C.value);return A}function nu(w){var C=-1,A=Array(w.size);return w.forEach(function(W,rt){A[++C]=[rt,W]}),A}function qo(w,C){return function(A){return w(C(A))}}function ve(w,C){for(var A=-1,W=w.length,rt=0,yt=[];++A<W;){var Kt=w[A];(Kt===C||Kt===L)&&(w[A]=L,yt[rt++]=A)}return yt}function Qr(w){var C=-1,A=Array(w.size);return w.forEach(function(W){A[++C]=W}),A}function _l(w){var C=-1,A=Array(w.size);return w.forEach(function(W){A[++C]=[W,W]}),A}function vl(w,C,A){for(var W=A-1,rt=w.length;++W<rt;)if(w[W]===C)return W;return-1}function ml(w,C,A){for(var W=A+1;W--;)if(w[W]===C)return W;return W}function Ze(w){return Ye(w)?yl(w):rl(w)}function zn(w){return Ye(w)?bl(w):il(w)}function Go(w){for(var C=w.length;C--&&Kr.test(w.charAt(C)););return C}var wl=Qi(Jf);function yl(w){for(var C=Gi.lastIndex=0;Gi.test(w);)++C;return C}function bl(w){return w.match(Gi)||[]}function xl(w){return w.match(kf)||[]}var Sl=function w(C){C=C==null?tn:Xe.defaults(tn.Object(),C,Xe.pick(tn,Kf));var A=C.Array,W=C.Date,rt=C.Error,yt=C.Function,Kt=C.Math,Tt=C.Object,eu=C.RegExp,Al=C.String,In=C.TypeError,Vr=A.prototype,Tl=yt.prototype,Je=Tt.prototype,jr=C["__core-js_shared__"],ti=Tl.toString,St=Je.hasOwnProperty,Cl=0,Ko=function(){var t=/[^.]+$/.exec(jr&&jr.keys&&jr.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ni=Je.toString,Fl=ti.call(Tt),Il=tn._,El=eu("^"+ti.call(St).replace(ke,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ei=Io?C.Buffer:i,me=C.Symbol,ri=C.Uint8Array,Yo=ei?ei.allocUnsafe:i,ii=qo(Tt.getPrototypeOf,Tt),Zo=Tt.create,Xo=Je.propertyIsEnumerable,ui=Vr.splice,Jo=me?me.isConcatSpreadable:i,_r=me?me.iterator:i,Fe=me?me.toStringTag:i,oi=function(){try{var t=Oe(Tt,"defineProperty");return t({},"",{}),t}catch{}}(),Rl=C.clearTimeout!==tn.clearTimeout&&C.clearTimeout,Ml=W&&W.now!==tn.Date.now&&W.now,Ol=C.setTimeout!==tn.setTimeout&&C.setTimeout,si=Kt.ceil,ai=Kt.floor,ru=Tt.getOwnPropertySymbols,Ll=ei?ei.isBuffer:i,$o=C.isFinite,Bl=Vr.join,Dl=qo(Tt.keys,Tt),Yt=Kt.max,rn=Kt.min,Pl=W.now,zl=C.parseInt,Qo=Kt.random,Wl=Vr.reverse,iu=Oe(C,"DataView"),vr=Oe(C,"Map"),uu=Oe(C,"Promise"),$e=Oe(C,"Set"),mr=Oe(C,"WeakMap"),wr=Oe(Tt,"create"),fi=mr&&new mr,Qe={},Ul=Le(iu),Nl=Le(vr),Hl=Le(uu),kl=Le($e),ql=Le(mr),li=me?me.prototype:i,yr=li?li.valueOf:i,Vo=li?li.toString:i;function a(t){if(Ut(t)&&!it(t)&&!(t instanceof ht)){if(t instanceof En)return t;if(St.call(t,"__wrapped__"))return js(t)}return new En(t)}var Ve=function(){function t(){}return function(n){if(!zt(n))return{};if(Zo)return Zo(n);t.prototype=n;var e=new t;return t.prototype=i,e}}();function ci(){}function En(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=i}a.templateSettings={escape:Hr,evaluate:kr,interpolate:gr,variable:"",imports:{_:a}},a.prototype=ci.prototype,a.prototype.constructor=a,En.prototype=Ve(ci.prototype),En.prototype.constructor=En;function ht(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=z,this.__views__=[]}function Gl(){var t=new ht(this.__wrapped__);return t.__actions__=cn(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=cn(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=cn(this.__views__),t}function Kl(){if(this.__filtered__){var t=new ht(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Yl(){var t=this.__wrapped__.value(),n=this.__dir__,e=it(t),r=n<0,o=e?t.length:0,f=ih(0,o,this.__views__),c=f.start,d=f.end,y=d-c,I=r?d:c-1,E=this.__iteratees__,M=E.length,D=0,K=rn(y,this.__takeCount__);if(!e||!r&&o==y&&K==y)return xs(t,this.__actions__);var j=[];t:for(;y--&&D<K;){I+=n;for(var st=-1,tt=t[I];++st<M;){var lt=E[st],dt=lt.iteratee,xn=lt.type,ln=dt(tt);if(xn==_)tt=ln;else if(!ln){if(xn==Zt)continue t;break t}}j[D++]=tt}return j}ht.prototype=Ve(ci.prototype),ht.prototype.constructor=ht;function Ie(t){var n=-1,e=t==null?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function Zl(){this.__data__=wr?wr(null):{},this.size=0}function Xl(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}function Jl(t){var n=this.__data__;if(wr){var e=n[t];return e===T?i:e}return St.call(n,t)?n[t]:i}function $l(t){var n=this.__data__;return wr?n[t]!==i:St.call(n,t)}function Ql(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=wr&&n===i?T:n,this}Ie.prototype.clear=Zl,Ie.prototype.delete=Xl,Ie.prototype.get=Jl,Ie.prototype.has=$l,Ie.prototype.set=Ql;function jn(t){var n=-1,e=t==null?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function Vl(){this.__data__=[],this.size=0}function jl(t){var n=this.__data__,e=hi(n,t);if(e<0)return!1;var r=n.length-1;return e==r?n.pop():ui.call(n,e,1),--this.size,!0}function tc(t){var n=this.__data__,e=hi(n,t);return e<0?i:n[e][1]}function nc(t){return hi(this.__data__,t)>-1}function ec(t,n){var e=this.__data__,r=hi(e,t);return r<0?(++this.size,e.push([t,n])):e[r][1]=n,this}jn.prototype.clear=Vl,jn.prototype.delete=jl,jn.prototype.get=tc,jn.prototype.has=nc,jn.prototype.set=ec;function te(t){var n=-1,e=t==null?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function rc(){this.size=0,this.__data__={hash:new Ie,map:new(vr||jn),string:new Ie}}function ic(t){var n=Ai(this,t).delete(t);return this.size-=n?1:0,n}function uc(t){return Ai(this,t).get(t)}function oc(t){return Ai(this,t).has(t)}function sc(t,n){var e=Ai(this,t),r=e.size;return e.set(t,n),this.size+=e.size==r?0:1,this}te.prototype.clear=rc,te.prototype.delete=ic,te.prototype.get=uc,te.prototype.has=oc,te.prototype.set=sc;function Ee(t){var n=-1,e=t==null?0:t.length;for(this.__data__=new te;++n<e;)this.add(t[n])}function ac(t){return this.__data__.set(t,T),this}function fc(t){return this.__data__.has(t)}Ee.prototype.add=Ee.prototype.push=ac,Ee.prototype.has=fc;function Wn(t){var n=this.__data__=new jn(t);this.size=n.size}function lc(){this.__data__=new jn,this.size=0}function cc(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e}function hc(t){return this.__data__.get(t)}function pc(t){return this.__data__.has(t)}function gc(t,n){var e=this.__data__;if(e instanceof jn){var r=e.__data__;if(!vr||r.length<l-1)return r.push([t,n]),this.size=++e.size,this;e=this.__data__=new te(r)}return e.set(t,n),this.size=e.size,this}Wn.prototype.clear=lc,Wn.prototype.delete=cc,Wn.prototype.get=hc,Wn.prototype.has=pc,Wn.prototype.set=gc;function jo(t,n){var e=it(t),r=!e&&Be(t),o=!e&&!r&&Se(t),f=!e&&!r&&!o&&er(t),c=e||r||o||f,d=c?ji(t.length,Al):[],y=d.length;for(var I in t)(n||St.call(t,I))&&!(c&&(I=="length"||o&&(I=="offset"||I=="parent")||f&&(I=="buffer"||I=="byteLength"||I=="byteOffset")||ie(I,y)))&&d.push(I);return d}function ts(t){var n=t.length;return n?t[_u(0,n-1)]:i}function dc(t,n){return Ti(cn(t),Re(n,0,t.length))}function _c(t){return Ti(cn(t))}function ou(t,n,e){(e!==i&&!Un(t[n],e)||e===i&&!(n in t))&&ne(t,n,e)}function br(t,n,e){var r=t[n];(!(St.call(t,n)&&Un(r,e))||e===i&&!(n in t))&&ne(t,n,e)}function hi(t,n){for(var e=t.length;e--;)if(Un(t[e][0],n))return e;return-1}function vc(t,n,e,r){return we(t,function(o,f,c){n(r,o,e(o),c)}),r}function ns(t,n){return t&&Zn(n,$t(n),t)}function mc(t,n){return t&&Zn(n,pn(n),t)}function ne(t,n,e){n=="__proto__"&&oi?oi(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e}function su(t,n){for(var e=-1,r=n.length,o=A(r),f=t==null;++e<r;)o[e]=f?i:Hu(t,n[e]);return o}function Re(t,n,e){return t===t&&(e!==i&&(t=t<=e?t:e),n!==i&&(t=t>=n?t:n)),t}function Rn(t,n,e,r,o,f){var c,d=n&P,y=n&k,I=n&N;if(e&&(c=o?e(t,r,o,f):e(t)),c!==i)return c;if(!zt(t))return t;var E=it(t);if(E){if(c=oh(t),!d)return cn(t,c)}else{var M=un(t),D=M==gt||M==At;if(Se(t))return Ts(t,d);if(M==It||M==Z||D&&!o){if(c=y||D?{}:Gs(t),!d)return y?Jc(t,mc(c,t)):Xc(t,ns(c,t))}else{if(!Et[M])return o?t:{};c=sh(t,M,d)}}f||(f=new Wn);var K=f.get(t);if(K)return K;f.set(t,c),wa(t)?t.forEach(function(tt){c.add(Rn(tt,n,e,tt,t,f))}):va(t)&&t.forEach(function(tt,lt){c.set(lt,Rn(tt,n,e,lt,t,f))});var j=I?y?Fu:Cu:y?pn:$t,st=E?i:j(t);return Fn(st||t,function(tt,lt){st&&(lt=tt,tt=t[lt]),br(c,lt,Rn(tt,n,e,lt,t,f))}),c}function wc(t){var n=$t(t);return function(e){return es(e,t,n)}}function es(t,n,e){var r=e.length;if(t==null)return!r;for(t=Tt(t);r--;){var o=e[r],f=n[o],c=t[o];if(c===i&&!(o in t)||!f(c))return!1}return!0}function rs(t,n,e){if(typeof t!="function")throw new In(g);return Ir(function(){t.apply(i,e)},n)}function xr(t,n,e,r){var o=-1,f=Jr,c=!0,d=t.length,y=[],I=n.length;if(!d)return y;e&&(n=Bt(n,wn(e))),r?(f=Zi,c=!1):n.length>=l&&(f=dr,c=!1,n=new Ee(n));t:for(;++o<d;){var E=t[o],M=e==null?E:e(E);if(E=r||E!==0?E:0,c&&M===M){for(var D=I;D--;)if(n[D]===M)continue t;y.push(E)}else f(n,M,r)||y.push(E)}return y}var we=Rs(Yn),is=Rs(fu,!0);function yc(t,n){var e=!0;return we(t,function(r,o,f){return e=!!n(r,o,f),e}),e}function pi(t,n,e){for(var r=-1,o=t.length;++r<o;){var f=t[r],c=n(f);if(c!=null&&(d===i?c===c&&!bn(c):e(c,d)))var d=c,y=f}return y}function bc(t,n,e,r){var o=t.length;for(e=ot(e),e<0&&(e=-e>o?0:o+e),r=r===i||r>o?o:ot(r),r<0&&(r+=o),r=e>r?0:ba(r);e<r;)t[e++]=n;return t}function us(t,n){var e=[];return we(t,function(r,o,f){n(r,o,f)&&e.push(r)}),e}function nn(t,n,e,r,o){var f=-1,c=t.length;for(e||(e=fh),o||(o=[]);++f<c;){var d=t[f];n>0&&e(d)?n>1?nn(d,n-1,e,r,o):_e(o,d):r||(o[o.length]=d)}return o}var au=Ms(),os=Ms(!0);function Yn(t,n){return t&&au(t,n,$t)}function fu(t,n){return t&&os(t,n,$t)}function gi(t,n){return de(n,function(e){return ue(t[e])})}function Me(t,n){n=be(n,t);for(var e=0,r=n.length;t!=null&&e<r;)t=t[Xn(n[e++])];return e&&e==r?t:i}function ss(t,n,e){var r=n(t);return it(t)?r:_e(r,e(t))}function an(t){return t==null?t===i?Ae:ce:Fe&&Fe in Tt(t)?rh(t):_h(t)}function lu(t,n){return t>n}function xc(t,n){return t!=null&&St.call(t,n)}function Sc(t,n){return t!=null&&n in Tt(t)}function Ac(t,n,e){return t>=rn(n,e)&&t<Yt(n,e)}function cu(t,n,e){for(var r=e?Zi:Jr,o=t[0].length,f=t.length,c=f,d=A(f),y=1/0,I=[];c--;){var E=t[c];c&&n&&(E=Bt(E,wn(n))),y=rn(E.length,y),d[c]=!e&&(n||o>=120&&E.length>=120)?new Ee(c&&E):i}E=t[0];var M=-1,D=d[0];t:for(;++M<o&&I.length<y;){var K=E[M],j=n?n(K):K;if(K=e||K!==0?K:0,!(D?dr(D,j):r(I,j,e))){for(c=f;--c;){var st=d[c];if(!(st?dr(st,j):r(t[c],j,e)))continue t}D&&D.push(j),I.push(K)}}return I}function Tc(t,n,e,r){return Yn(t,function(o,f,c){n(r,e(o),f,c)}),r}function Sr(t,n,e){n=be(n,t),t=Xs(t,n);var r=t==null?t:t[Xn(On(n))];return r==null?i:mn(r,t,e)}function as(t){return Ut(t)&&an(t)==Z}function Cc(t){return Ut(t)&&an(t)==qn}function Fc(t){return Ut(t)&&an(t)==Ft}function Ar(t,n,e,r,o){return t===n?!0:t==null||n==null||!Ut(t)&&!Ut(n)?t!==t&&n!==n:Ic(t,n,e,r,Ar,o)}function Ic(t,n,e,r,o,f){var c=it(t),d=it(n),y=c?wt:un(t),I=d?wt:un(n);y=y==Z?It:y,I=I==Z?It:I;var E=y==It,M=I==It,D=y==I;if(D&&Se(t)){if(!Se(n))return!1;c=!0,E=!1}if(D&&!E)return f||(f=new Wn),c||er(t)?Hs(t,n,e,r,o,f):nh(t,n,y,e,r,o,f);if(!(e&X)){var K=E&&St.call(t,"__wrapped__"),j=M&&St.call(n,"__wrapped__");if(K||j){var st=K?t.value():t,tt=j?n.value():n;return f||(f=new Wn),o(st,tt,e,r,f)}}return D?(f||(f=new Wn),eh(t,n,e,r,o,f)):!1}function Ec(t){return Ut(t)&&un(t)==_t}function hu(t,n,e,r){var o=e.length,f=o,c=!r;if(t==null)return!f;for(t=Tt(t);o--;){var d=e[o];if(c&&d[2]?d[1]!==t[d[0]]:!(d[0]in t))return!1}for(;++o<f;){d=e[o];var y=d[0],I=t[y],E=d[1];if(c&&d[2]){if(I===i&&!(y in t))return!1}else{var M=new Wn;if(r)var D=r(I,E,y,t,n,M);if(!(D===i?Ar(E,I,X|J,r,M):D))return!1}}return!0}function fs(t){if(!zt(t)||ch(t))return!1;var n=ue(t)?El:wf;return n.test(Le(t))}function Rc(t){return Ut(t)&&an(t)==An}function Mc(t){return Ut(t)&&un(t)==Jt}function Oc(t){return Ut(t)&&Mi(t.length)&&!!Ot[an(t)]}function ls(t){return typeof t=="function"?t:t==null?gn:typeof t=="object"?it(t)?ps(t[0],t[1]):hs(t):Oa(t)}function pu(t){if(!Fr(t))return Dl(t);var n=[];for(var e in Tt(t))St.call(t,e)&&e!="constructor"&&n.push(e);return n}function Lc(t){if(!zt(t))return dh(t);var n=Fr(t),e=[];for(var r in t)r=="constructor"&&(n||!St.call(t,r))||e.push(r);return e}function gu(t,n){return t<n}function cs(t,n){var e=-1,r=hn(t)?A(t.length):[];return we(t,function(o,f,c){r[++e]=n(o,f,c)}),r}function hs(t){var n=Eu(t);return n.length==1&&n[0][2]?Ys(n[0][0],n[0][1]):function(e){return e===t||hu(e,t,n)}}function ps(t,n){return Mu(t)&&Ks(n)?Ys(Xn(t),n):function(e){var r=Hu(e,t);return r===i&&r===n?ku(e,t):Ar(n,r,X|J)}}function di(t,n,e,r,o){t!==n&&au(n,function(f,c){if(o||(o=new Wn),zt(f))Bc(t,n,c,e,di,r,o);else{var d=r?r(Lu(t,c),f,c+"",t,n,o):i;d===i&&(d=f),ou(t,c,d)}},pn)}function Bc(t,n,e,r,o,f,c){var d=Lu(t,e),y=Lu(n,e),I=c.get(y);if(I){ou(t,e,I);return}var E=f?f(d,y,e+"",t,n,c):i,M=E===i;if(M){var D=it(y),K=!D&&Se(y),j=!D&&!K&&er(y);E=y,D||K||j?it(d)?E=d:Nt(d)?E=cn(d):K?(M=!1,E=Ts(y,!0)):j?(M=!1,E=Cs(y,!0)):E=[]:Er(y)||Be(y)?(E=d,Be(d)?E=xa(d):(!zt(d)||ue(d))&&(E=Gs(y))):M=!1}M&&(c.set(y,E),o(E,y,r,f,c),c.delete(y)),ou(t,e,E)}function gs(t,n){var e=t.length;if(e)return n+=n<0?e:0,ie(n,e)?t[n]:i}function ds(t,n,e){n.length?n=Bt(n,function(f){return it(f)?function(c){return Me(c,f.length===1?f[0]:f)}:f}):n=[gn];var r=-1;n=Bt(n,wn(V()));var o=cs(t,function(f,c,d){var y=Bt(n,function(I){return I(f)});return{criteria:y,index:++r,value:f}});return sl(o,function(f,c){return Zc(f,c,e)})}function Dc(t,n){return _s(t,n,function(e,r){return ku(t,r)})}function _s(t,n,e){for(var r=-1,o=n.length,f={};++r<o;){var c=n[r],d=Me(t,c);e(d,c)&&Tr(f,be(c,t),d)}return f}function Pc(t){return function(n){return Me(n,t)}}function du(t,n,e,r){var o=r?ol:Ke,f=-1,c=n.length,d=t;for(t===n&&(n=cn(n)),e&&(d=Bt(t,wn(e)));++f<c;)for(var y=0,I=n[f],E=e?e(I):I;(y=o(d,E,y,r))>-1;)d!==t&&ui.call(d,y,1),ui.call(t,y,1);return t}function vs(t,n){for(var e=t?n.length:0,r=e-1;e--;){var o=n[e];if(e==r||o!==f){var f=o;ie(o)?ui.call(t,o,1):wu(t,o)}}return t}function _u(t,n){return t+ai(Qo()*(n-t+1))}function zc(t,n,e,r){for(var o=-1,f=Yt(si((n-t)/(e||1)),0),c=A(f);f--;)c[r?f:++o]=t,t+=e;return c}function vu(t,n){var e="";if(!t||n<1||n>m)return e;do n%2&&(e+=t),n=ai(n/2),n&&(t+=t);while(n);return e}function ft(t,n){return Bu(Zs(t,n,gn),t+"")}function Wc(t){return ts(rr(t))}function Uc(t,n){var e=rr(t);return Ti(e,Re(n,0,e.length))}function Tr(t,n,e,r){if(!zt(t))return t;n=be(n,t);for(var o=-1,f=n.length,c=f-1,d=t;d!=null&&++o<f;){var y=Xn(n[o]),I=e;if(y==="__proto__"||y==="constructor"||y==="prototype")return t;if(o!=c){var E=d[y];I=r?r(E,y,d):i,I===i&&(I=zt(E)?E:ie(n[o+1])?[]:{})}br(d,y,I),d=d[y]}return t}var ms=fi?function(t,n){return fi.set(t,n),t}:gn,Nc=oi?function(t,n){return oi(t,"toString",{configurable:!0,enumerable:!1,value:Gu(n),writable:!0})}:gn;function Hc(t){return Ti(rr(t))}function Mn(t,n,e){var r=-1,o=t.length;n<0&&(n=-n>o?0:o+n),e=e>o?o:e,e<0&&(e+=o),o=n>e?0:e-n>>>0,n>>>=0;for(var f=A(o);++r<o;)f[r]=t[r+n];return f}function kc(t,n){var e;return we(t,function(r,o,f){return e=n(r,o,f),!e}),!!e}function _i(t,n,e){var r=0,o=t==null?r:t.length;if(typeof n=="number"&&n===n&&o<=q){for(;r<o;){var f=r+o>>>1,c=t[f];c!==null&&!bn(c)&&(e?c<=n:c<n)?r=f+1:o=f}return o}return mu(t,n,gn,e)}function mu(t,n,e,r){var o=0,f=t==null?0:t.length;if(f===0)return 0;n=e(n);for(var c=n!==n,d=n===null,y=bn(n),I=n===i;o<f;){var E=ai((o+f)/2),M=e(t[E]),D=M!==i,K=M===null,j=M===M,st=bn(M);if(c)var tt=r||j;else I?tt=j&&(r||D):d?tt=j&&D&&(r||!K):y?tt=j&&D&&!K&&(r||!st):K||st?tt=!1:tt=r?M<=n:M<n;tt?o=E+1:f=E}return rn(f,$)}function ws(t,n){for(var e=-1,r=t.length,o=0,f=[];++e<r;){var c=t[e],d=n?n(c):c;if(!e||!Un(d,y)){var y=d;f[o++]=c===0?0:c}}return f}function ys(t){return typeof t=="number"?t:bn(t)?B:+t}function yn(t){if(typeof t=="string")return t;if(it(t))return Bt(t,yn)+"";if(bn(t))return Vo?Vo.call(t):"";var n=t+"";return n=="0"&&1/t==-S?"-0":n}function ye(t,n,e){var r=-1,o=Jr,f=t.length,c=!0,d=[],y=d;if(e)c=!1,o=Zi;else if(f>=l){var I=n?null:jc(t);if(I)return Qr(I);c=!1,o=dr,y=new Ee}else y=n?[]:d;t:for(;++r<f;){var E=t[r],M=n?n(E):E;if(E=e||E!==0?E:0,c&&M===M){for(var D=y.length;D--;)if(y[D]===M)continue t;n&&y.push(M),d.push(E)}else o(y,M,e)||(y!==d&&y.push(M),d.push(E))}return d}function wu(t,n){return n=be(n,t),t=Xs(t,n),t==null||delete t[Xn(On(n))]}function bs(t,n,e,r){return Tr(t,n,e(Me(t,n)),r)}function vi(t,n,e,r){for(var o=t.length,f=r?o:-1;(r?f--:++f<o)&&n(t[f],f,t););return e?Mn(t,r?0:f,r?f+1:o):Mn(t,r?f+1:0,r?o:f)}function xs(t,n){var e=t;return e instanceof ht&&(e=e.value()),Xi(n,function(r,o){return o.func.apply(o.thisArg,_e([r],o.args))},e)}function yu(t,n,e){var r=t.length;if(r<2)return r?ye(t[0]):[];for(var o=-1,f=A(r);++o<r;)for(var c=t[o],d=-1;++d<r;)d!=o&&(f[o]=xr(f[o]||c,t[d],n,e));return ye(nn(f,1),n,e)}function Ss(t,n,e){for(var r=-1,o=t.length,f=n.length,c={};++r<o;){var d=r<f?n[r]:i;e(c,t[r],d)}return c}function bu(t){return Nt(t)?t:[]}function xu(t){return typeof t=="function"?t:gn}function be(t,n){return it(t)?t:Mu(t,n)?[t]:Vs(xt(t))}var qc=ft;function xe(t,n,e){var r=t.length;return e=e===i?r:e,!n&&e>=r?t:Mn(t,n,e)}var As=Rl||function(t){return tn.clearTimeout(t)};function Ts(t,n){if(n)return t.slice();var e=t.length,r=Yo?Yo(e):new t.constructor(e);return t.copy(r),r}function Su(t){var n=new t.constructor(t.byteLength);return new ri(n).set(new ri(t)),n}function Gc(t,n){var e=n?Su(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}function Kc(t){var n=new t.constructor(t.source,so.exec(t));return n.lastIndex=t.lastIndex,n}function Yc(t){return yr?Tt(yr.call(t)):{}}function Cs(t,n){var e=n?Su(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}function Fs(t,n){if(t!==n){var e=t!==i,r=t===null,o=t===t,f=bn(t),c=n!==i,d=n===null,y=n===n,I=bn(n);if(!d&&!I&&!f&&t>n||f&&c&&y&&!d&&!I||r&&c&&y||!e&&y||!o)return 1;if(!r&&!f&&!I&&t<n||I&&e&&o&&!r&&!f||d&&e&&o||!c&&o||!y)return-1}return 0}function Zc(t,n,e){for(var r=-1,o=t.criteria,f=n.criteria,c=o.length,d=e.length;++r<c;){var y=Fs(o[r],f[r]);if(y){if(r>=d)return y;var I=e[r];return y*(I=="desc"?-1:1)}}return t.index-n.index}function Is(t,n,e,r){for(var o=-1,f=t.length,c=e.length,d=-1,y=n.length,I=Yt(f-c,0),E=A(y+I),M=!r;++d<y;)E[d]=n[d];for(;++o<c;)(M||o<f)&&(E[e[o]]=t[o]);for(;I--;)E[d++]=t[o++];return E}function Es(t,n,e,r){for(var o=-1,f=t.length,c=-1,d=e.length,y=-1,I=n.length,E=Yt(f-d,0),M=A(E+I),D=!r;++o<E;)M[o]=t[o];for(var K=o;++y<I;)M[K+y]=n[y];for(;++c<d;)(D||o<f)&&(M[K+e[c]]=t[o++]);return M}function cn(t,n){var e=-1,r=t.length;for(n||(n=A(r));++e<r;)n[e]=t[e];return n}function Zn(t,n,e,r){var o=!e;e||(e={});for(var f=-1,c=n.length;++f<c;){var d=n[f],y=r?r(e[d],t[d],d,e,t):i;y===i&&(y=t[d]),o?ne(e,d,y):br(e,d,y)}return e}function Xc(t,n){return Zn(t,Ru(t),n)}function Jc(t,n){return Zn(t,ks(t),n)}function mi(t,n){return function(e,r){var o=it(e)?tl:vc,f=n?n():{};return o(e,t,V(r,2),f)}}function je(t){return ft(function(n,e){var r=-1,o=e.length,f=o>1?e[o-1]:i,c=o>2?e[2]:i;for(f=t.length>3&&typeof f=="function"?(o--,f):i,c&&fn(e[0],e[1],c)&&(f=o<3?i:f,o=1),n=Tt(n);++r<o;){var d=e[r];d&&t(n,d,r,f)}return n})}function Rs(t,n){return function(e,r){if(e==null)return e;if(!hn(e))return t(e,r);for(var o=e.length,f=n?o:-1,c=Tt(e);(n?f--:++f<o)&&r(c[f],f,c)!==!1;);return e}}function Ms(t){return function(n,e,r){for(var o=-1,f=Tt(n),c=r(n),d=c.length;d--;){var y=c[t?d:++o];if(e(f[y],y,f)===!1)break}return n}}function $c(t,n,e){var r=n&Y,o=Cr(t);function f(){var c=this&&this!==tn&&this instanceof f?o:t;return c.apply(r?e:this,arguments)}return f}function Os(t){return function(n){n=xt(n);var e=Ye(n)?zn(n):i,r=e?e[0]:n.charAt(0),o=e?xe(e,1).join(""):n.slice(1);return r[t]()+o}}function tr(t){return function(n){return Xi(Ra(Ea(n).replace(Nf,"")),t,"")}}function Cr(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var e=Ve(t.prototype),r=t.apply(e,n);return zt(r)?r:e}}function Qc(t,n,e){var r=Cr(t);function o(){for(var f=arguments.length,c=A(f),d=f,y=nr(o);d--;)c[d]=arguments[d];var I=f<3&&c[0]!==y&&c[f-1]!==y?[]:ve(c,y);if(f-=I.length,f<e)return zs(t,n,wi,o.placeholder,i,c,I,i,i,e-f);var E=this&&this!==tn&&this instanceof o?r:t;return mn(E,this,c)}return o}function Ls(t){return function(n,e,r){var o=Tt(n);if(!hn(n)){var f=V(e,3);n=$t(n),e=function(d){return f(o[d],d,o)}}var c=t(n,e,r);return c>-1?o[f?n[c]:c]:i}}function Bs(t){return re(function(n){var e=n.length,r=e,o=En.prototype.thru;for(t&&n.reverse();r--;){var f=n[r];if(typeof f!="function")throw new In(g);if(o&&!c&&Si(f)=="wrapper")var c=new En([],!0)}for(r=c?r:e;++r<e;){f=n[r];var d=Si(f),y=d=="wrapper"?Iu(f):i;y&&Ou(y[0])&&y[1]==(bt|at|mt|Dt)&&!y[4].length&&y[9]==1?c=c[Si(y[0])].apply(c,y[3]):c=f.length==1&&Ou(f)?c[d]():c.thru(f)}return function(){var I=arguments,E=I[0];if(c&&I.length==1&&it(E))return c.plant(E).value();for(var M=0,D=e?n[M].apply(this,I):E;++M<e;)D=n[M].call(this,D);return D}})}function wi(t,n,e,r,o,f,c,d,y,I){var E=n&bt,M=n&Y,D=n&nt,K=n&(at|vt),j=n&Rt,st=D?i:Cr(t);function tt(){for(var lt=arguments.length,dt=A(lt),xn=lt;xn--;)dt[xn]=arguments[xn];if(K)var ln=nr(tt),Sn=fl(dt,ln);if(r&&(dt=Is(dt,r,o,K)),f&&(dt=Es(dt,f,c,K)),lt-=Sn,K&&lt<I){var Ht=ve(dt,ln);return zs(t,n,wi,tt.placeholder,e,dt,Ht,d,y,I-lt)}var Nn=M?e:this,se=D?Nn[t]:t;return lt=dt.length,d?dt=vh(dt,d):j&&lt>1&&dt.reverse(),E&&y<lt&&(dt.length=y),this&&this!==tn&&this instanceof tt&&(se=st||Cr(se)),se.apply(Nn,dt)}return tt}function Ds(t,n){return function(e,r){return Tc(e,t,n(r),{})}}function yi(t,n){return function(e,r){var o;if(e===i&&r===i)return n;if(e!==i&&(o=e),r!==i){if(o===i)return r;typeof e=="string"||typeof r=="string"?(e=yn(e),r=yn(r)):(e=ys(e),r=ys(r)),o=t(e,r)}return o}}function Au(t){return re(function(n){return n=Bt(n,wn(V())),ft(function(e){var r=this;return t(n,function(o){return mn(o,r,e)})})})}function bi(t,n){n=n===i?" ":yn(n);var e=n.length;if(e<2)return e?vu(n,t):n;var r=vu(n,si(t/Ze(n)));return Ye(n)?xe(zn(r),0,t).join(""):r.slice(0,t)}function Vc(t,n,e,r){var o=n&Y,f=Cr(t);function c(){for(var d=-1,y=arguments.length,I=-1,E=r.length,M=A(E+y),D=this&&this!==tn&&this instanceof c?f:t;++I<E;)M[I]=r[I];for(;y--;)M[I++]=arguments[++d];return mn(D,o?e:this,M)}return c}function Ps(t){return function(n,e,r){return r&&typeof r!="number"&&fn(n,e,r)&&(e=r=i),n=oe(n),e===i?(e=n,n=0):e=oe(e),r=r===i?n<e?1:-1:oe(r),zc(n,e,r,t)}}function xi(t){return function(n,e){return typeof n=="string"&&typeof e=="string"||(n=Ln(n),e=Ln(e)),t(n,e)}}function zs(t,n,e,r,o,f,c,d,y,I){var E=n&at,M=E?c:i,D=E?i:c,K=E?f:i,j=E?i:f;n|=E?mt:Lt,n&=~(E?Lt:mt),n&et||(n&=~(Y|nt));var st=[t,n,o,K,M,j,D,d,y,I],tt=e.apply(i,st);return Ou(t)&&Js(tt,st),tt.placeholder=r,$s(tt,t,n)}function Tu(t){var n=Kt[t];return function(e,r){if(e=Ln(e),r=r==null?0:rn(ot(r),292),r&&$o(e)){var o=(xt(e)+"e").split("e"),f=n(o[0]+"e"+(+o[1]+r));return o=(xt(f)+"e").split("e"),+(o[0]+"e"+(+o[1]-r))}return n(e)}}var jc=$e&&1/Qr(new $e([,-0]))[1]==S?function(t){return new $e(t)}:Zu;function Ws(t){return function(n){var e=un(n);return e==_t?nu(n):e==Jt?_l(n):al(n,t(n))}}function ee(t,n,e,r,o,f,c,d){var y=n&nt;if(!y&&typeof t!="function")throw new In(g);var I=r?r.length:0;if(I||(n&=~(mt|Lt),r=o=i),c=c===i?c:Yt(ot(c),0),d=d===i?d:ot(d),I-=o?o.length:0,n&Lt){var E=r,M=o;r=o=i}var D=y?i:Iu(t),K=[t,n,e,r,o,E,M,f,c,d];if(D&&gh(K,D),t=K[0],n=K[1],e=K[2],r=K[3],o=K[4],d=K[9]=K[9]===i?y?0:t.length:Yt(K[9]-I,0),!d&&n&(at|vt)&&(n&=~(at|vt)),!n||n==Y)var j=$c(t,n,e);else n==at||n==vt?j=Qc(t,n,d):(n==mt||n==(Y|mt))&&!o.length?j=Vc(t,n,e,r):j=wi.apply(i,K);var st=D?ms:Js;return $s(st(j,K),t,n)}function Us(t,n,e,r){return t===i||Un(t,Je[e])&&!St.call(r,e)?n:t}function Ns(t,n,e,r,o,f){return zt(t)&&zt(n)&&(f.set(n,t),di(t,n,i,Ns,f),f.delete(n)),t}function th(t){return Er(t)?i:t}function Hs(t,n,e,r,o,f){var c=e&X,d=t.length,y=n.length;if(d!=y&&!(c&&y>d))return!1;var I=f.get(t),E=f.get(n);if(I&&E)return I==n&&E==t;var M=-1,D=!0,K=e&J?new Ee:i;for(f.set(t,n),f.set(n,t);++M<d;){var j=t[M],st=n[M];if(r)var tt=c?r(st,j,M,n,t,f):r(j,st,M,t,n,f);if(tt!==i){if(tt)continue;D=!1;break}if(K){if(!Ji(n,function(lt,dt){if(!dr(K,dt)&&(j===lt||o(j,lt,e,r,f)))return K.push(dt)})){D=!1;break}}else if(!(j===st||o(j,st,e,r,f))){D=!1;break}}return f.delete(t),f.delete(n),D}function nh(t,n,e,r,o,f,c){switch(e){case Dn:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case qn:return!(t.byteLength!=n.byteLength||!f(new ri(t),new ri(n)));case Ct:case Ft:case Pt:return Un(+t,+n);case Xt:return t.name==n.name&&t.message==n.message;case An:case Hn:return t==n+"";case _t:var d=nu;case Jt:var y=r&X;if(d||(d=Qr),t.size!=n.size&&!y)return!1;var I=c.get(t);if(I)return I==n;r|=J,c.set(t,n);var E=Hs(d(t),d(n),r,o,f,c);return c.delete(t),E;case on:if(yr)return yr.call(t)==yr.call(n)}return!1}function eh(t,n,e,r,o,f){var c=e&X,d=Cu(t),y=d.length,I=Cu(n),E=I.length;if(y!=E&&!c)return!1;for(var M=y;M--;){var D=d[M];if(!(c?D in n:St.call(n,D)))return!1}var K=f.get(t),j=f.get(n);if(K&&j)return K==n&&j==t;var st=!0;f.set(t,n),f.set(n,t);for(var tt=c;++M<y;){D=d[M];var lt=t[D],dt=n[D];if(r)var xn=c?r(dt,lt,D,n,t,f):r(lt,dt,D,t,n,f);if(!(xn===i?lt===dt||o(lt,dt,e,r,f):xn)){st=!1;break}tt||(tt=D=="constructor")}if(st&&!tt){var ln=t.constructor,Sn=n.constructor;ln!=Sn&&"constructor"in t&&"constructor"in n&&!(typeof ln=="function"&&ln instanceof ln&&typeof Sn=="function"&&Sn instanceof Sn)&&(st=!1)}return f.delete(t),f.delete(n),st}function re(t){return Bu(Zs(t,i,ea),t+"")}function Cu(t){return ss(t,$t,Ru)}function Fu(t){return ss(t,pn,ks)}var Iu=fi?function(t){return fi.get(t)}:Zu;function Si(t){for(var n=t.name+"",e=Qe[n],r=St.call(Qe,n)?e.length:0;r--;){var o=e[r],f=o.func;if(f==null||f==t)return o.name}return n}function nr(t){var n=St.call(a,"placeholder")?a:t;return n.placeholder}function V(){var t=a.iteratee||Ku;return t=t===Ku?ls:t,arguments.length?t(arguments[0],arguments[1]):t}function Ai(t,n){var e=t.__data__;return lh(n)?e[typeof n=="string"?"string":"hash"]:e.map}function Eu(t){for(var n=$t(t),e=n.length;e--;){var r=n[e],o=t[r];n[e]=[r,o,Ks(o)]}return n}function Oe(t,n){var e=pl(t,n);return fs(e)?e:i}function rh(t){var n=St.call(t,Fe),e=t[Fe];try{t[Fe]=i;var r=!0}catch{}var o=ni.call(t);return r&&(n?t[Fe]=e:delete t[Fe]),o}var Ru=ru?function(t){return t==null?[]:(t=Tt(t),de(ru(t),function(n){return Xo.call(t,n)}))}:Xu,ks=ru?function(t){for(var n=[];t;)_e(n,Ru(t)),t=ii(t);return n}:Xu,un=an;(iu&&un(new iu(new ArrayBuffer(1)))!=Dn||vr&&un(new vr)!=_t||uu&&un(uu.resolve())!=_n||$e&&un(new $e)!=Jt||mr&&un(new mr)!=kn)&&(un=function(t){var n=an(t),e=n==It?t.constructor:i,r=e?Le(e):"";if(r)switch(r){case Ul:return Dn;case Nl:return _t;case Hl:return _n;case kl:return Jt;case ql:return kn}return n});function ih(t,n,e){for(var r=-1,o=e.length;++r<o;){var f=e[r],c=f.size;switch(f.type){case"drop":t+=c;break;case"dropRight":n-=c;break;case"take":n=rn(n,t+c);break;case"takeRight":t=Yt(t,n-c);break}}return{start:t,end:n}}function uh(t){var n=t.match(cf);return n?n[1].split(hf):[]}function qs(t,n,e){n=be(n,t);for(var r=-1,o=n.length,f=!1;++r<o;){var c=Xn(n[r]);if(!(f=t!=null&&e(t,c)))break;t=t[c]}return f||++r!=o?f:(o=t==null?0:t.length,!!o&&Mi(o)&&ie(c,o)&&(it(t)||Be(t)))}function oh(t){var n=t.length,e=new t.constructor(n);return n&&typeof t[0]=="string"&&St.call(t,"index")&&(e.index=t.index,e.input=t.input),e}function Gs(t){return typeof t.constructor=="function"&&!Fr(t)?Ve(ii(t)):{}}function sh(t,n,e){var r=t.constructor;switch(n){case qn:return Su(t);case Ct:case Ft:return new r(+t);case Dn:return Gc(t,e);case pe:case Tn:case Qn:case Vn:case Pn:case Gn:case Kn:case Te:case ze:return Cs(t,e);case _t:return new r;case Pt:case Hn:return new r(t);case An:return Kc(t);case Jt:return new r;case on:return Yc(t)}}function ah(t,n){var e=n.length;if(!e)return t;var r=e-1;return n[r]=(e>1?"& ":"")+n[r],n=n.join(e>2?", ":" "),t.replace(lf,`{
/* [wrapped with `+n+`] */
`)}function fh(t){return it(t)||Be(t)||!!(Jo&&t&&t[Jo])}function ie(t,n){var e=typeof t;return n=n??m,!!n&&(e=="number"||e!="symbol"&&bf.test(t))&&t>-1&&t%1==0&&t<n}function fn(t,n,e){if(!zt(e))return!1;var r=typeof n;return(r=="number"?hn(e)&&ie(n,e.length):r=="string"&&n in e)?Un(e[n],t):!1}function Mu(t,n){if(it(t))return!1;var e=typeof t;return e=="number"||e=="symbol"||e=="boolean"||t==null||bn(t)?!0:sn.test(t)||!qr.test(t)||n!=null&&t in Tt(n)}function lh(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}function Ou(t){var n=Si(t),e=a[n];if(typeof e!="function"||!(n in ht.prototype))return!1;if(t===e)return!0;var r=Iu(e);return!!r&&t===r[0]}function ch(t){return!!Ko&&Ko in t}var hh=jr?ue:Ju;function Fr(t){var n=t&&t.constructor,e=typeof n=="function"&&n.prototype||Je;return t===e}function Ks(t){return t===t&&!zt(t)}function Ys(t,n){return function(e){return e==null?!1:e[t]===n&&(n!==i||t in Tt(e))}}function ph(t){var n=Ei(t,function(r){return e.size===R&&e.clear(),r}),e=n.cache;return n}function gh(t,n){var e=t[1],r=n[1],o=e|r,f=o<(Y|nt|bt),c=r==bt&&e==at||r==bt&&e==Dt&&t[7].length<=n[8]||r==(bt|Dt)&&n[7].length<=n[8]&&e==at;if(!(f||c))return t;r&Y&&(t[2]=n[2],o|=e&Y?0:et);var d=n[3];if(d){var y=t[3];t[3]=y?Is(y,d,n[4]):d,t[4]=y?ve(t[3],L):n[4]}return d=n[5],d&&(y=t[5],t[5]=y?Es(y,d,n[6]):d,t[6]=y?ve(t[5],L):n[6]),d=n[7],d&&(t[7]=d),r&bt&&(t[8]=t[8]==null?n[8]:rn(t[8],n[8])),t[9]==null&&(t[9]=n[9]),t[0]=n[0],t[1]=o,t}function dh(t){var n=[];if(t!=null)for(var e in Tt(t))n.push(e);return n}function _h(t){return ni.call(t)}function Zs(t,n,e){return n=Yt(n===i?t.length-1:n,0),function(){for(var r=arguments,o=-1,f=Yt(r.length-n,0),c=A(f);++o<f;)c[o]=r[n+o];o=-1;for(var d=A(n+1);++o<n;)d[o]=r[o];return d[n]=e(c),mn(t,this,d)}}function Xs(t,n){return n.length<2?t:Me(t,Mn(n,0,-1))}function vh(t,n){for(var e=t.length,r=rn(n.length,e),o=cn(t);r--;){var f=n[r];t[r]=ie(f,e)?o[f]:i}return t}function Lu(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}var Js=Qs(ms),Ir=Ol||function(t,n){return tn.setTimeout(t,n)},Bu=Qs(Nc);function $s(t,n,e){var r=n+"";return Bu(t,ah(r,mh(uh(r),e)))}function Qs(t){var n=0,e=0;return function(){var r=Pl(),o=U-(r-e);if(e=r,o>0){if(++n>=Gt)return arguments[0]}else n=0;return t.apply(i,arguments)}}function Ti(t,n){var e=-1,r=t.length,o=r-1;for(n=n===i?r:n;++e<n;){var f=_u(e,o),c=t[f];t[f]=t[e],t[e]=c}return t.length=n,t}var Vs=ph(function(t){var n=[];return t.charCodeAt(0)===46&&n.push(""),t.replace(vn,function(e,r,o,f){n.push(o?f.replace(df,"$1"):r||e)}),n});function Xn(t){if(typeof t=="string"||bn(t))return t;var n=t+"";return n=="0"&&1/t==-S?"-0":n}function Le(t){if(t!=null){try{return ti.call(t)}catch{}try{return t+""}catch{}}return""}function mh(t,n){return Fn(G,function(e){var r="_."+e[0];n&e[1]&&!Jr(t,r)&&t.push(r)}),t.sort()}function js(t){if(t instanceof ht)return t.clone();var n=new En(t.__wrapped__,t.__chain__);return n.__actions__=cn(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}function wh(t,n,e){(e?fn(t,n,e):n===i)?n=1:n=Yt(ot(n),0);var r=t==null?0:t.length;if(!r||n<1)return[];for(var o=0,f=0,c=A(si(r/n));o<r;)c[f++]=Mn(t,o,o+=n);return c}function yh(t){for(var n=-1,e=t==null?0:t.length,r=0,o=[];++n<e;){var f=t[n];f&&(o[r++]=f)}return o}function bh(){var t=arguments.length;if(!t)return[];for(var n=A(t-1),e=arguments[0],r=t;r--;)n[r-1]=arguments[r];return _e(it(e)?cn(e):[e],nn(n,1))}var xh=ft(function(t,n){return Nt(t)?xr(t,nn(n,1,Nt,!0)):[]}),Sh=ft(function(t,n){var e=On(n);return Nt(e)&&(e=i),Nt(t)?xr(t,nn(n,1,Nt,!0),V(e,2)):[]}),Ah=ft(function(t,n){var e=On(n);return Nt(e)&&(e=i),Nt(t)?xr(t,nn(n,1,Nt,!0),i,e):[]});function Th(t,n,e){var r=t==null?0:t.length;return r?(n=e||n===i?1:ot(n),Mn(t,n<0?0:n,r)):[]}function Ch(t,n,e){var r=t==null?0:t.length;return r?(n=e||n===i?1:ot(n),n=r-n,Mn(t,0,n<0?0:n)):[]}function Fh(t,n){return t&&t.length?vi(t,V(n,3),!0,!0):[]}function Ih(t,n){return t&&t.length?vi(t,V(n,3),!0):[]}function Eh(t,n,e,r){var o=t==null?0:t.length;return o?(e&&typeof e!="number"&&fn(t,n,e)&&(e=0,r=o),bc(t,n,e,r)):[]}function ta(t,n,e){var r=t==null?0:t.length;if(!r)return-1;var o=e==null?0:ot(e);return o<0&&(o=Yt(r+o,0)),$r(t,V(n,3),o)}function na(t,n,e){var r=t==null?0:t.length;if(!r)return-1;var o=r-1;return e!==i&&(o=ot(e),o=e<0?Yt(r+o,0):rn(o,r-1)),$r(t,V(n,3),o,!0)}function ea(t){var n=t==null?0:t.length;return n?nn(t,1):[]}function Rh(t){var n=t==null?0:t.length;return n?nn(t,S):[]}function Mh(t,n){var e=t==null?0:t.length;return e?(n=n===i?1:ot(n),nn(t,n)):[]}function Oh(t){for(var n=-1,e=t==null?0:t.length,r={};++n<e;){var o=t[n];r[o[0]]=o[1]}return r}function ra(t){return t&&t.length?t[0]:i}function Lh(t,n,e){var r=t==null?0:t.length;if(!r)return-1;var o=e==null?0:ot(e);return o<0&&(o=Yt(r+o,0)),Ke(t,n,o)}function Bh(t){var n=t==null?0:t.length;return n?Mn(t,0,-1):[]}var Dh=ft(function(t){var n=Bt(t,bu);return n.length&&n[0]===t[0]?cu(n):[]}),Ph=ft(function(t){var n=On(t),e=Bt(t,bu);return n===On(e)?n=i:e.pop(),e.length&&e[0]===t[0]?cu(e,V(n,2)):[]}),zh=ft(function(t){var n=On(t),e=Bt(t,bu);return n=typeof n=="function"?n:i,n&&e.pop(),e.length&&e[0]===t[0]?cu(e,i,n):[]});function Wh(t,n){return t==null?"":Bl.call(t,n)}function On(t){var n=t==null?0:t.length;return n?t[n-1]:i}function Uh(t,n,e){var r=t==null?0:t.length;if(!r)return-1;var o=r;return e!==i&&(o=ot(e),o=o<0?Yt(r+o,0):rn(o,r-1)),n===n?ml(t,n,o):$r(t,zo,o,!0)}function Nh(t,n){return t&&t.length?gs(t,ot(n)):i}var Hh=ft(ia);function ia(t,n){return t&&t.length&&n&&n.length?du(t,n):t}function kh(t,n,e){return t&&t.length&&n&&n.length?du(t,n,V(e,2)):t}function qh(t,n,e){return t&&t.length&&n&&n.length?du(t,n,i,e):t}var Gh=re(function(t,n){var e=t==null?0:t.length,r=su(t,n);return vs(t,Bt(n,function(o){return ie(o,e)?+o:o}).sort(Fs)),r});function Kh(t,n){var e=[];if(!(t&&t.length))return e;var r=-1,o=[],f=t.length;for(n=V(n,3);++r<f;){var c=t[r];n(c,r,t)&&(e.push(c),o.push(r))}return vs(t,o),e}function Du(t){return t==null?t:Wl.call(t)}function Yh(t,n,e){var r=t==null?0:t.length;return r?(e&&typeof e!="number"&&fn(t,n,e)?(n=0,e=r):(n=n==null?0:ot(n),e=e===i?r:ot(e)),Mn(t,n,e)):[]}function Zh(t,n){return _i(t,n)}function Xh(t,n,e){return mu(t,n,V(e,2))}function Jh(t,n){var e=t==null?0:t.length;if(e){var r=_i(t,n);if(r<e&&Un(t[r],n))return r}return-1}function $h(t,n){return _i(t,n,!0)}function Qh(t,n,e){return mu(t,n,V(e,2),!0)}function Vh(t,n){var e=t==null?0:t.length;if(e){var r=_i(t,n,!0)-1;if(Un(t[r],n))return r}return-1}function jh(t){return t&&t.length?ws(t):[]}function tp(t,n){return t&&t.length?ws(t,V(n,2)):[]}function np(t){var n=t==null?0:t.length;return n?Mn(t,1,n):[]}function ep(t,n,e){return t&&t.length?(n=e||n===i?1:ot(n),Mn(t,0,n<0?0:n)):[]}function rp(t,n,e){var r=t==null?0:t.length;return r?(n=e||n===i?1:ot(n),n=r-n,Mn(t,n<0?0:n,r)):[]}function ip(t,n){return t&&t.length?vi(t,V(n,3),!1,!0):[]}function up(t,n){return t&&t.length?vi(t,V(n,3)):[]}var op=ft(function(t){return ye(nn(t,1,Nt,!0))}),sp=ft(function(t){var n=On(t);return Nt(n)&&(n=i),ye(nn(t,1,Nt,!0),V(n,2))}),ap=ft(function(t){var n=On(t);return n=typeof n=="function"?n:i,ye(nn(t,1,Nt,!0),i,n)});function fp(t){return t&&t.length?ye(t):[]}function lp(t,n){return t&&t.length?ye(t,V(n,2)):[]}function cp(t,n){return n=typeof n=="function"?n:i,t&&t.length?ye(t,i,n):[]}function Pu(t){if(!(t&&t.length))return[];var n=0;return t=de(t,function(e){if(Nt(e))return n=Yt(e.length,n),!0}),ji(n,function(e){return Bt(t,$i(e))})}function ua(t,n){if(!(t&&t.length))return[];var e=Pu(t);return n==null?e:Bt(e,function(r){return mn(n,i,r)})}var hp=ft(function(t,n){return Nt(t)?xr(t,n):[]}),pp=ft(function(t){return yu(de(t,Nt))}),gp=ft(function(t){var n=On(t);return Nt(n)&&(n=i),yu(de(t,Nt),V(n,2))}),dp=ft(function(t){var n=On(t);return n=typeof n=="function"?n:i,yu(de(t,Nt),i,n)}),_p=ft(Pu);function vp(t,n){return Ss(t||[],n||[],br)}function mp(t,n){return Ss(t||[],n||[],Tr)}var wp=ft(function(t){var n=t.length,e=n>1?t[n-1]:i;return e=typeof e=="function"?(t.pop(),e):i,ua(t,e)});function oa(t){var n=a(t);return n.__chain__=!0,n}function yp(t,n){return n(t),t}function Ci(t,n){return n(t)}var bp=re(function(t){var n=t.length,e=n?t[0]:0,r=this.__wrapped__,o=function(f){return su(f,t)};return n>1||this.__actions__.length||!(r instanceof ht)||!ie(e)?this.thru(o):(r=r.slice(e,+e+(n?1:0)),r.__actions__.push({func:Ci,args:[o],thisArg:i}),new En(r,this.__chain__).thru(function(f){return n&&!f.length&&f.push(i),f}))});function xp(){return oa(this)}function Sp(){return new En(this.value(),this.__chain__)}function Ap(){this.__values__===i&&(this.__values__=ya(this.value()));var t=this.__index__>=this.__values__.length,n=t?i:this.__values__[this.__index__++];return{done:t,value:n}}function Tp(){return this}function Cp(t){for(var n,e=this;e instanceof ci;){var r=js(e);r.__index__=0,r.__values__=i,n?o.__wrapped__=r:n=r;var o=r;e=e.__wrapped__}return o.__wrapped__=t,n}function Fp(){var t=this.__wrapped__;if(t instanceof ht){var n=t;return this.__actions__.length&&(n=new ht(this)),n=n.reverse(),n.__actions__.push({func:Ci,args:[Du],thisArg:i}),new En(n,this.__chain__)}return this.thru(Du)}function Ip(){return xs(this.__wrapped__,this.__actions__)}var Ep=mi(function(t,n,e){St.call(t,e)?++t[e]:ne(t,e,1)});function Rp(t,n,e){var r=it(t)?Do:yc;return e&&fn(t,n,e)&&(n=i),r(t,V(n,3))}function Mp(t,n){var e=it(t)?de:us;return e(t,V(n,3))}var Op=Ls(ta),Lp=Ls(na);function Bp(t,n){return nn(Fi(t,n),1)}function Dp(t,n){return nn(Fi(t,n),S)}function Pp(t,n,e){return e=e===i?1:ot(e),nn(Fi(t,n),e)}function sa(t,n){var e=it(t)?Fn:we;return e(t,V(n,3))}function aa(t,n){var e=it(t)?nl:is;return e(t,V(n,3))}var zp=mi(function(t,n,e){St.call(t,e)?t[e].push(n):ne(t,e,[n])});function Wp(t,n,e,r){t=hn(t)?t:rr(t),e=e&&!r?ot(e):0;var o=t.length;return e<0&&(e=Yt(o+e,0)),Oi(t)?e<=o&&t.indexOf(n,e)>-1:!!o&&Ke(t,n,e)>-1}var Up=ft(function(t,n,e){var r=-1,o=typeof n=="function",f=hn(t)?A(t.length):[];return we(t,function(c){f[++r]=o?mn(n,c,e):Sr(c,n,e)}),f}),Np=mi(function(t,n,e){ne(t,e,n)});function Fi(t,n){var e=it(t)?Bt:cs;return e(t,V(n,3))}function Hp(t,n,e,r){return t==null?[]:(it(n)||(n=n==null?[]:[n]),e=r?i:e,it(e)||(e=e==null?[]:[e]),ds(t,n,e))}var kp=mi(function(t,n,e){t[e?0:1].push(n)},function(){return[[],[]]});function qp(t,n,e){var r=it(t)?Xi:Uo,o=arguments.length<3;return r(t,V(n,4),e,o,we)}function Gp(t,n,e){var r=it(t)?el:Uo,o=arguments.length<3;return r(t,V(n,4),e,o,is)}function Kp(t,n){var e=it(t)?de:us;return e(t,Ri(V(n,3)))}function Yp(t){var n=it(t)?ts:Wc;return n(t)}function Zp(t,n,e){(e?fn(t,n,e):n===i)?n=1:n=ot(n);var r=it(t)?dc:Uc;return r(t,n)}function Xp(t){var n=it(t)?_c:Hc;return n(t)}function Jp(t){if(t==null)return 0;if(hn(t))return Oi(t)?Ze(t):t.length;var n=un(t);return n==_t||n==Jt?t.size:pu(t).length}function $p(t,n,e){var r=it(t)?Ji:kc;return e&&fn(t,n,e)&&(n=i),r(t,V(n,3))}var Qp=ft(function(t,n){if(t==null)return[];var e=n.length;return e>1&&fn(t,n[0],n[1])?n=[]:e>2&&fn(n[0],n[1],n[2])&&(n=[n[0]]),ds(t,nn(n,1),[])}),Ii=Ml||function(){return tn.Date.now()};function Vp(t,n){if(typeof n!="function")throw new In(g);return t=ot(t),function(){if(--t<1)return n.apply(this,arguments)}}function fa(t,n,e){return n=e?i:n,n=t&&n==null?t.length:n,ee(t,bt,i,i,i,i,n)}function la(t,n){var e;if(typeof n!="function")throw new In(g);return t=ot(t),function(){return--t>0&&(e=n.apply(this,arguments)),t<=1&&(n=i),e}}var zu=ft(function(t,n,e){var r=Y;if(e.length){var o=ve(e,nr(zu));r|=mt}return ee(t,r,n,e,o)}),ca=ft(function(t,n,e){var r=Y|nt;if(e.length){var o=ve(e,nr(ca));r|=mt}return ee(n,r,t,e,o)});function ha(t,n,e){n=e?i:n;var r=ee(t,at,i,i,i,i,i,n);return r.placeholder=ha.placeholder,r}function pa(t,n,e){n=e?i:n;var r=ee(t,vt,i,i,i,i,i,n);return r.placeholder=pa.placeholder,r}function ga(t,n,e){var r,o,f,c,d,y,I=0,E=!1,M=!1,D=!0;if(typeof t!="function")throw new In(g);n=Ln(n)||0,zt(e)&&(E=!!e.leading,M="maxWait"in e,f=M?Yt(Ln(e.maxWait)||0,n):f,D="trailing"in e?!!e.trailing:D);function K(Ht){var Nn=r,se=o;return r=o=i,I=Ht,c=t.apply(se,Nn),c}function j(Ht){return I=Ht,d=Ir(lt,n),E?K(Ht):c}function st(Ht){var Nn=Ht-y,se=Ht-I,La=n-Nn;return M?rn(La,f-se):La}function tt(Ht){var Nn=Ht-y,se=Ht-I;return y===i||Nn>=n||Nn<0||M&&se>=f}function lt(){var Ht=Ii();if(tt(Ht))return dt(Ht);d=Ir(lt,st(Ht))}function dt(Ht){return d=i,D&&r?K(Ht):(r=o=i,c)}function xn(){d!==i&&As(d),I=0,r=y=o=d=i}function ln(){return d===i?c:dt(Ii())}function Sn(){var Ht=Ii(),Nn=tt(Ht);if(r=arguments,o=this,y=Ht,Nn){if(d===i)return j(y);if(M)return As(d),d=Ir(lt,n),K(y)}return d===i&&(d=Ir(lt,n)),c}return Sn.cancel=xn,Sn.flush=ln,Sn}var jp=ft(function(t,n){return rs(t,1,n)}),tg=ft(function(t,n,e){return rs(t,Ln(n)||0,e)});function ng(t){return ee(t,Rt)}function Ei(t,n){if(typeof t!="function"||n!=null&&typeof n!="function")throw new In(g);var e=function(){var r=arguments,o=n?n.apply(this,r):r[0],f=e.cache;if(f.has(o))return f.get(o);var c=t.apply(this,r);return e.cache=f.set(o,c)||f,c};return e.cache=new(Ei.Cache||te),e}Ei.Cache=te;function Ri(t){if(typeof t!="function")throw new In(g);return function(){var n=arguments;switch(n.length){case 0:return!t.call(this);case 1:return!t.call(this,n[0]);case 2:return!t.call(this,n[0],n[1]);case 3:return!t.call(this,n[0],n[1],n[2])}return!t.apply(this,n)}}function eg(t){return la(2,t)}var rg=qc(function(t,n){n=n.length==1&&it(n[0])?Bt(n[0],wn(V())):Bt(nn(n,1),wn(V()));var e=n.length;return ft(function(r){for(var o=-1,f=rn(r.length,e);++o<f;)r[o]=n[o].call(this,r[o]);return mn(t,this,r)})}),Wu=ft(function(t,n){var e=ve(n,nr(Wu));return ee(t,mt,i,n,e)}),da=ft(function(t,n){var e=ve(n,nr(da));return ee(t,Lt,i,n,e)}),ig=re(function(t,n){return ee(t,Dt,i,i,i,n)});function ug(t,n){if(typeof t!="function")throw new In(g);return n=n===i?n:ot(n),ft(t,n)}function og(t,n){if(typeof t!="function")throw new In(g);return n=n==null?0:Yt(ot(n),0),ft(function(e){var r=e[n],o=xe(e,0,n);return r&&_e(o,r),mn(t,this,o)})}function sg(t,n,e){var r=!0,o=!0;if(typeof t!="function")throw new In(g);return zt(e)&&(r="leading"in e?!!e.leading:r,o="trailing"in e?!!e.trailing:o),ga(t,n,{leading:r,maxWait:n,trailing:o})}function ag(t){return fa(t,1)}function fg(t,n){return Wu(xu(n),t)}function lg(){if(!arguments.length)return[];var t=arguments[0];return it(t)?t:[t]}function cg(t){return Rn(t,N)}function hg(t,n){return n=typeof n=="function"?n:i,Rn(t,N,n)}function pg(t){return Rn(t,P|N)}function gg(t,n){return n=typeof n=="function"?n:i,Rn(t,P|N,n)}function dg(t,n){return n==null||es(t,n,$t(n))}function Un(t,n){return t===n||t!==t&&n!==n}var _g=xi(lu),vg=xi(function(t,n){return t>=n}),Be=as(function(){return arguments}())?as:function(t){return Ut(t)&&St.call(t,"callee")&&!Xo.call(t,"callee")},it=A.isArray,mg=Eo?wn(Eo):Cc;function hn(t){return t!=null&&Mi(t.length)&&!ue(t)}function Nt(t){return Ut(t)&&hn(t)}function wg(t){return t===!0||t===!1||Ut(t)&&an(t)==Ct}var Se=Ll||Ju,yg=Ro?wn(Ro):Fc;function bg(t){return Ut(t)&&t.nodeType===1&&!Er(t)}function xg(t){if(t==null)return!0;if(hn(t)&&(it(t)||typeof t=="string"||typeof t.splice=="function"||Se(t)||er(t)||Be(t)))return!t.length;var n=un(t);if(n==_t||n==Jt)return!t.size;if(Fr(t))return!pu(t).length;for(var e in t)if(St.call(t,e))return!1;return!0}function Sg(t,n){return Ar(t,n)}function Ag(t,n,e){e=typeof e=="function"?e:i;var r=e?e(t,n):i;return r===i?Ar(t,n,i,e):!!r}function Uu(t){if(!Ut(t))return!1;var n=an(t);return n==Xt||n==Mt||typeof t.message=="string"&&typeof t.name=="string"&&!Er(t)}function Tg(t){return typeof t=="number"&&$o(t)}function ue(t){if(!zt(t))return!1;var n=an(t);return n==gt||n==At||n==Q||n==$n}function _a(t){return typeof t=="number"&&t==ot(t)}function Mi(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=m}function zt(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}function Ut(t){return t!=null&&typeof t=="object"}var va=Mo?wn(Mo):Ec;function Cg(t,n){return t===n||hu(t,n,Eu(n))}function Fg(t,n,e){return e=typeof e=="function"?e:i,hu(t,n,Eu(n),e)}function Ig(t){return ma(t)&&t!=+t}function Eg(t){if(hh(t))throw new rt(b);return fs(t)}function Rg(t){return t===null}function Mg(t){return t==null}function ma(t){return typeof t=="number"||Ut(t)&&an(t)==Pt}function Er(t){if(!Ut(t)||an(t)!=It)return!1;var n=ii(t);if(n===null)return!0;var e=St.call(n,"constructor")&&n.constructor;return typeof e=="function"&&e instanceof e&&ti.call(e)==Fl}var Nu=Oo?wn(Oo):Rc;function Og(t){return _a(t)&&t>=-m&&t<=m}var wa=Lo?wn(Lo):Mc;function Oi(t){return typeof t=="string"||!it(t)&&Ut(t)&&an(t)==Hn}function bn(t){return typeof t=="symbol"||Ut(t)&&an(t)==on}var er=Bo?wn(Bo):Oc;function Lg(t){return t===i}function Bg(t){return Ut(t)&&un(t)==kn}function Dg(t){return Ut(t)&&an(t)==he}var Pg=xi(gu),zg=xi(function(t,n){return t<=n});function ya(t){if(!t)return[];if(hn(t))return Oi(t)?zn(t):cn(t);if(_r&&t[_r])return dl(t[_r]());var n=un(t),e=n==_t?nu:n==Jt?Qr:rr;return e(t)}function oe(t){if(!t)return t===0?t:0;if(t=Ln(t),t===S||t===-S){var n=t<0?-1:1;return n*F}return t===t?t:0}function ot(t){var n=oe(t),e=n%1;return n===n?e?n-e:n:0}function ba(t){return t?Re(ot(t),0,z):0}function Ln(t){if(typeof t=="number")return t;if(bn(t))return B;if(zt(t)){var n=typeof t.valueOf=="function"?t.valueOf():t;t=zt(n)?n+"":n}if(typeof t!="string")return t===0?t:+t;t=No(t);var e=mf.test(t);return e||yf.test(t)?Vf(t.slice(2),e?2:8):vf.test(t)?B:+t}function xa(t){return Zn(t,pn(t))}function Wg(t){return t?Re(ot(t),-m,m):t===0?t:0}function xt(t){return t==null?"":yn(t)}var Ug=je(function(t,n){if(Fr(n)||hn(n)){Zn(n,$t(n),t);return}for(var e in n)St.call(n,e)&&br(t,e,n[e])}),Sa=je(function(t,n){Zn(n,pn(n),t)}),Li=je(function(t,n,e,r){Zn(n,pn(n),t,r)}),Ng=je(function(t,n,e,r){Zn(n,$t(n),t,r)}),Hg=re(su);function kg(t,n){var e=Ve(t);return n==null?e:ns(e,n)}var qg=ft(function(t,n){t=Tt(t);var e=-1,r=n.length,o=r>2?n[2]:i;for(o&&fn(n[0],n[1],o)&&(r=1);++e<r;)for(var f=n[e],c=pn(f),d=-1,y=c.length;++d<y;){var I=c[d],E=t[I];(E===i||Un(E,Je[I])&&!St.call(t,I))&&(t[I]=f[I])}return t}),Gg=ft(function(t){return t.push(i,Ns),mn(Aa,i,t)});function Kg(t,n){return Po(t,V(n,3),Yn)}function Yg(t,n){return Po(t,V(n,3),fu)}function Zg(t,n){return t==null?t:au(t,V(n,3),pn)}function Xg(t,n){return t==null?t:os(t,V(n,3),pn)}function Jg(t,n){return t&&Yn(t,V(n,3))}function $g(t,n){return t&&fu(t,V(n,3))}function Qg(t){return t==null?[]:gi(t,$t(t))}function Vg(t){return t==null?[]:gi(t,pn(t))}function Hu(t,n,e){var r=t==null?i:Me(t,n);return r===i?e:r}function jg(t,n){return t!=null&&qs(t,n,xc)}function ku(t,n){return t!=null&&qs(t,n,Sc)}var td=Ds(function(t,n,e){n!=null&&typeof n.toString!="function"&&(n=ni.call(n)),t[n]=e},Gu(gn)),nd=Ds(function(t,n,e){n!=null&&typeof n.toString!="function"&&(n=ni.call(n)),St.call(t,n)?t[n].push(e):t[n]=[e]},V),ed=ft(Sr);function $t(t){return hn(t)?jo(t):pu(t)}function pn(t){return hn(t)?jo(t,!0):Lc(t)}function rd(t,n){var e={};return n=V(n,3),Yn(t,function(r,o,f){ne(e,n(r,o,f),r)}),e}function id(t,n){var e={};return n=V(n,3),Yn(t,function(r,o,f){ne(e,o,n(r,o,f))}),e}var ud=je(function(t,n,e){di(t,n,e)}),Aa=je(function(t,n,e,r){di(t,n,e,r)}),od=re(function(t,n){var e={};if(t==null)return e;var r=!1;n=Bt(n,function(f){return f=be(f,t),r||(r=f.length>1),f}),Zn(t,Fu(t),e),r&&(e=Rn(e,P|k|N,th));for(var o=n.length;o--;)wu(e,n[o]);return e});function sd(t,n){return Ta(t,Ri(V(n)))}var ad=re(function(t,n){return t==null?{}:Dc(t,n)});function Ta(t,n){if(t==null)return{};var e=Bt(Fu(t),function(r){return[r]});return n=V(n),_s(t,e,function(r,o){return n(r,o[0])})}function fd(t,n,e){n=be(n,t);var r=-1,o=n.length;for(o||(o=1,t=i);++r<o;){var f=t==null?i:t[Xn(n[r])];f===i&&(r=o,f=e),t=ue(f)?f.call(t):f}return t}function ld(t,n,e){return t==null?t:Tr(t,n,e)}function cd(t,n,e,r){return r=typeof r=="function"?r:i,t==null?t:Tr(t,n,e,r)}var Ca=Ws($t),Fa=Ws(pn);function hd(t,n,e){var r=it(t),o=r||Se(t)||er(t);if(n=V(n,4),e==null){var f=t&&t.constructor;o?e=r?new f:[]:zt(t)?e=ue(f)?Ve(ii(t)):{}:e={}}return(o?Fn:Yn)(t,function(c,d,y){return n(e,c,d,y)}),e}function pd(t,n){return t==null?!0:wu(t,n)}function gd(t,n,e){return t==null?t:bs(t,n,xu(e))}function dd(t,n,e,r){return r=typeof r=="function"?r:i,t==null?t:bs(t,n,xu(e),r)}function rr(t){return t==null?[]:tu(t,$t(t))}function _d(t){return t==null?[]:tu(t,pn(t))}function vd(t,n,e){return e===i&&(e=n,n=i),e!==i&&(e=Ln(e),e=e===e?e:0),n!==i&&(n=Ln(n),n=n===n?n:0),Re(Ln(t),n,e)}function md(t,n,e){return n=oe(n),e===i?(e=n,n=0):e=oe(e),t=Ln(t),Ac(t,n,e)}function wd(t,n,e){if(e&&typeof e!="boolean"&&fn(t,n,e)&&(n=e=i),e===i&&(typeof n=="boolean"?(e=n,n=i):typeof t=="boolean"&&(e=t,t=i)),t===i&&n===i?(t=0,n=1):(t=oe(t),n===i?(n=t,t=0):n=oe(n)),t>n){var r=t;t=n,n=r}if(e||t%1||n%1){var o=Qo();return rn(t+o*(n-t+Qf("1e-"+((o+"").length-1))),n)}return _u(t,n)}var yd=tr(function(t,n,e){return n=n.toLowerCase(),t+(e?Ia(n):n)});function Ia(t){return qu(xt(t).toLowerCase())}function Ea(t){return t=xt(t),t&&t.replace(xf,ll).replace(Hf,"")}function bd(t,n,e){t=xt(t),n=yn(n);var r=t.length;e=e===i?r:Re(ot(e),0,r);var o=e;return e-=n.length,e>=0&&t.slice(e,o)==n}function xd(t){return t=xt(t),t&&He.test(t)?t.replace(pr,cl):t}function Sd(t){return t=xt(t),t&&Gr.test(t)?t.replace(ke,"\\$&"):t}var Ad=tr(function(t,n,e){return t+(e?"-":"")+n.toLowerCase()}),Td=tr(function(t,n,e){return t+(e?" ":"")+n.toLowerCase()}),Cd=Os("toLowerCase");function Fd(t,n,e){t=xt(t),n=ot(n);var r=n?Ze(t):0;if(!n||r>=n)return t;var o=(n-r)/2;return bi(ai(o),e)+t+bi(si(o),e)}function Id(t,n,e){t=xt(t),n=ot(n);var r=n?Ze(t):0;return n&&r<n?t+bi(n-r,e):t}function Ed(t,n,e){t=xt(t),n=ot(n);var r=n?Ze(t):0;return n&&r<n?bi(n-r,e)+t:t}function Rd(t,n,e){return e||n==null?n=0:n&&(n=+n),zl(xt(t).replace(qe,""),n||0)}function Md(t,n,e){return(e?fn(t,n,e):n===i)?n=1:n=ot(n),vu(xt(t),n)}function Od(){var t=arguments,n=xt(t[0]);return t.length<3?n:n.replace(t[1],t[2])}var Ld=tr(function(t,n,e){return t+(e?"_":"")+n.toLowerCase()});function Bd(t,n,e){return e&&typeof e!="number"&&fn(t,n,e)&&(n=e=i),e=e===i?z:e>>>0,e?(t=xt(t),t&&(typeof n=="string"||n!=null&&!Nu(n))&&(n=yn(n),!n&&Ye(t))?xe(zn(t),0,e):t.split(n,e)):[]}var Dd=tr(function(t,n,e){return t+(e?" ":"")+qu(n)});function Pd(t,n,e){return t=xt(t),e=e==null?0:Re(ot(e),0,t.length),n=yn(n),t.slice(e,e+n.length)==n}function zd(t,n,e){var r=a.templateSettings;e&&fn(t,n,e)&&(n=i),t=xt(t),n=Li({},n,r,Us);var o=Li({},n.imports,r.imports,Us),f=$t(o),c=tu(o,f),d,y,I=0,E=n.interpolate||Yr,M="__p += '",D=eu((n.escape||Yr).source+"|"+E.source+"|"+(E===gr?_f:Yr).source+"|"+(n.evaluate||Yr).source+"|$","g"),K="//# sourceURL="+(St.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Yf+"]")+`
`;t.replace(D,function(tt,lt,dt,xn,ln,Sn){return dt||(dt=xn),M+=t.slice(I,Sn).replace(Sf,hl),lt&&(d=!0,M+=`' +
__e(`+lt+`) +
'`),ln&&(y=!0,M+=`';
`+ln+`;
__p += '`),dt&&(M+=`' +
((__t = (`+dt+`)) == null ? '' : __t) +
'`),I=Sn+tt.length,tt}),M+=`';
`;var j=St.call(n,"variable")&&n.variable;if(!j)M=`with (obj) {
`+M+`
}
`;else if(gf.test(j))throw new rt(v);M=(y?M.replace(We,""):M).replace(Nr,"$1").replace(ge,"$1;"),M="function("+(j||"obj")+`) {
`+(j?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(d?", __e = _.escape":"")+(y?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+M+`return __p
}`;var st=Ma(function(){return yt(f,K+"return "+M).apply(i,c)});if(st.source=M,Uu(st))throw st;return st}function Wd(t){return xt(t).toLowerCase()}function Ud(t){return xt(t).toUpperCase()}function Nd(t,n,e){if(t=xt(t),t&&(e||n===i))return No(t);if(!t||!(n=yn(n)))return t;var r=zn(t),o=zn(n),f=Ho(r,o),c=ko(r,o)+1;return xe(r,f,c).join("")}function Hd(t,n,e){if(t=xt(t),t&&(e||n===i))return t.slice(0,Go(t)+1);if(!t||!(n=yn(n)))return t;var r=zn(t),o=ko(r,zn(n))+1;return xe(r,0,o).join("")}function kd(t,n,e){if(t=xt(t),t&&(e||n===i))return t.replace(qe,"");if(!t||!(n=yn(n)))return t;var r=zn(t),o=Ho(r,zn(n));return xe(r,o).join("")}function qd(t,n){var e=jt,r=en;if(zt(n)){var o="separator"in n?n.separator:o;e="length"in n?ot(n.length):e,r="omission"in n?yn(n.omission):r}t=xt(t);var f=t.length;if(Ye(t)){var c=zn(t);f=c.length}if(e>=f)return t;var d=e-Ze(r);if(d<1)return r;var y=c?xe(c,0,d).join(""):t.slice(0,d);if(o===i)return y+r;if(c&&(d+=y.length-d),Nu(o)){if(t.slice(d).search(o)){var I,E=y;for(o.global||(o=eu(o.source,xt(so.exec(o))+"g")),o.lastIndex=0;I=o.exec(E);)var M=I.index;y=y.slice(0,M===i?d:M)}}else if(t.indexOf(yn(o),d)!=d){var D=y.lastIndexOf(o);D>-1&&(y=y.slice(0,D))}return y+r}function Gd(t){return t=xt(t),t&&Ne.test(t)?t.replace(Ue,wl):t}var Kd=tr(function(t,n,e){return t+(e?" ":"")+n.toUpperCase()}),qu=Os("toUpperCase");function Ra(t,n,e){return t=xt(t),n=e?i:n,n===i?gl(t)?xl(t):ul(t):t.match(n)||[]}var Ma=ft(function(t,n){try{return mn(t,i,n)}catch(e){return Uu(e)?e:new rt(e)}}),Yd=re(function(t,n){return Fn(n,function(e){e=Xn(e),ne(t,e,zu(t[e],t))}),t});function Zd(t){var n=t==null?0:t.length,e=V();return t=n?Bt(t,function(r){if(typeof r[1]!="function")throw new In(g);return[e(r[0]),r[1]]}):[],ft(function(r){for(var o=-1;++o<n;){var f=t[o];if(mn(f[0],this,r))return mn(f[1],this,r)}})}function Xd(t){return wc(Rn(t,P))}function Gu(t){return function(){return t}}function Jd(t,n){return t==null||t!==t?n:t}var $d=Bs(),Qd=Bs(!0);function gn(t){return t}function Ku(t){return ls(typeof t=="function"?t:Rn(t,P))}function Vd(t){return hs(Rn(t,P))}function jd(t,n){return ps(t,Rn(n,P))}var t_=ft(function(t,n){return function(e){return Sr(e,t,n)}}),n_=ft(function(t,n){return function(e){return Sr(t,e,n)}});function Yu(t,n,e){var r=$t(n),o=gi(n,r);e==null&&!(zt(n)&&(o.length||!r.length))&&(e=n,n=t,t=this,o=gi(n,$t(n)));var f=!(zt(e)&&"chain"in e)||!!e.chain,c=ue(t);return Fn(o,function(d){var y=n[d];t[d]=y,c&&(t.prototype[d]=function(){var I=this.__chain__;if(f||I){var E=t(this.__wrapped__),M=E.__actions__=cn(this.__actions__);return M.push({func:y,args:arguments,thisArg:t}),E.__chain__=I,E}return y.apply(t,_e([this.value()],arguments))})}),t}function e_(){return tn._===this&&(tn._=Il),this}function Zu(){}function r_(t){return t=ot(t),ft(function(n){return gs(n,t)})}var i_=Au(Bt),u_=Au(Do),o_=Au(Ji);function Oa(t){return Mu(t)?$i(Xn(t)):Pc(t)}function s_(t){return function(n){return t==null?i:Me(t,n)}}var a_=Ps(),f_=Ps(!0);function Xu(){return[]}function Ju(){return!1}function l_(){return{}}function c_(){return""}function h_(){return!0}function p_(t,n){if(t=ot(t),t<1||t>m)return[];var e=z,r=rn(t,z);n=V(n),t-=z;for(var o=ji(r,n);++e<t;)n(e);return o}function g_(t){return it(t)?Bt(t,Xn):bn(t)?[t]:cn(Vs(xt(t)))}function d_(t){var n=++Cl;return xt(t)+n}var __=yi(function(t,n){return t+n},0),v_=Tu("ceil"),m_=yi(function(t,n){return t/n},1),w_=Tu("floor");function y_(t){return t&&t.length?pi(t,gn,lu):i}function b_(t,n){return t&&t.length?pi(t,V(n,2),lu):i}function x_(t){return Wo(t,gn)}function S_(t,n){return Wo(t,V(n,2))}function A_(t){return t&&t.length?pi(t,gn,gu):i}function T_(t,n){return t&&t.length?pi(t,V(n,2),gu):i}var C_=yi(function(t,n){return t*n},1),F_=Tu("round"),I_=yi(function(t,n){return t-n},0);function E_(t){return t&&t.length?Vi(t,gn):0}function R_(t,n){return t&&t.length?Vi(t,V(n,2)):0}return a.after=Vp,a.ary=fa,a.assign=Ug,a.assignIn=Sa,a.assignInWith=Li,a.assignWith=Ng,a.at=Hg,a.before=la,a.bind=zu,a.bindAll=Yd,a.bindKey=ca,a.castArray=lg,a.chain=oa,a.chunk=wh,a.compact=yh,a.concat=bh,a.cond=Zd,a.conforms=Xd,a.constant=Gu,a.countBy=Ep,a.create=kg,a.curry=ha,a.curryRight=pa,a.debounce=ga,a.defaults=qg,a.defaultsDeep=Gg,a.defer=jp,a.delay=tg,a.difference=xh,a.differenceBy=Sh,a.differenceWith=Ah,a.drop=Th,a.dropRight=Ch,a.dropRightWhile=Fh,a.dropWhile=Ih,a.fill=Eh,a.filter=Mp,a.flatMap=Bp,a.flatMapDeep=Dp,a.flatMapDepth=Pp,a.flatten=ea,a.flattenDeep=Rh,a.flattenDepth=Mh,a.flip=ng,a.flow=$d,a.flowRight=Qd,a.fromPairs=Oh,a.functions=Qg,a.functionsIn=Vg,a.groupBy=zp,a.initial=Bh,a.intersection=Dh,a.intersectionBy=Ph,a.intersectionWith=zh,a.invert=td,a.invertBy=nd,a.invokeMap=Up,a.iteratee=Ku,a.keyBy=Np,a.keys=$t,a.keysIn=pn,a.map=Fi,a.mapKeys=rd,a.mapValues=id,a.matches=Vd,a.matchesProperty=jd,a.memoize=Ei,a.merge=ud,a.mergeWith=Aa,a.method=t_,a.methodOf=n_,a.mixin=Yu,a.negate=Ri,a.nthArg=r_,a.omit=od,a.omitBy=sd,a.once=eg,a.orderBy=Hp,a.over=i_,a.overArgs=rg,a.overEvery=u_,a.overSome=o_,a.partial=Wu,a.partialRight=da,a.partition=kp,a.pick=ad,a.pickBy=Ta,a.property=Oa,a.propertyOf=s_,a.pull=Hh,a.pullAll=ia,a.pullAllBy=kh,a.pullAllWith=qh,a.pullAt=Gh,a.range=a_,a.rangeRight=f_,a.rearg=ig,a.reject=Kp,a.remove=Kh,a.rest=ug,a.reverse=Du,a.sampleSize=Zp,a.set=ld,a.setWith=cd,a.shuffle=Xp,a.slice=Yh,a.sortBy=Qp,a.sortedUniq=jh,a.sortedUniqBy=tp,a.split=Bd,a.spread=og,a.tail=np,a.take=ep,a.takeRight=rp,a.takeRightWhile=ip,a.takeWhile=up,a.tap=yp,a.throttle=sg,a.thru=Ci,a.toArray=ya,a.toPairs=Ca,a.toPairsIn=Fa,a.toPath=g_,a.toPlainObject=xa,a.transform=hd,a.unary=ag,a.union=op,a.unionBy=sp,a.unionWith=ap,a.uniq=fp,a.uniqBy=lp,a.uniqWith=cp,a.unset=pd,a.unzip=Pu,a.unzipWith=ua,a.update=gd,a.updateWith=dd,a.values=rr,a.valuesIn=_d,a.without=hp,a.words=Ra,a.wrap=fg,a.xor=pp,a.xorBy=gp,a.xorWith=dp,a.zip=_p,a.zipObject=vp,a.zipObjectDeep=mp,a.zipWith=wp,a.entries=Ca,a.entriesIn=Fa,a.extend=Sa,a.extendWith=Li,Yu(a,a),a.add=__,a.attempt=Ma,a.camelCase=yd,a.capitalize=Ia,a.ceil=v_,a.clamp=vd,a.clone=cg,a.cloneDeep=pg,a.cloneDeepWith=gg,a.cloneWith=hg,a.conformsTo=dg,a.deburr=Ea,a.defaultTo=Jd,a.divide=m_,a.endsWith=bd,a.eq=Un,a.escape=xd,a.escapeRegExp=Sd,a.every=Rp,a.find=Op,a.findIndex=ta,a.findKey=Kg,a.findLast=Lp,a.findLastIndex=na,a.findLastKey=Yg,a.floor=w_,a.forEach=sa,a.forEachRight=aa,a.forIn=Zg,a.forInRight=Xg,a.forOwn=Jg,a.forOwnRight=$g,a.get=Hu,a.gt=_g,a.gte=vg,a.has=jg,a.hasIn=ku,a.head=ra,a.identity=gn,a.includes=Wp,a.indexOf=Lh,a.inRange=md,a.invoke=ed,a.isArguments=Be,a.isArray=it,a.isArrayBuffer=mg,a.isArrayLike=hn,a.isArrayLikeObject=Nt,a.isBoolean=wg,a.isBuffer=Se,a.isDate=yg,a.isElement=bg,a.isEmpty=xg,a.isEqual=Sg,a.isEqualWith=Ag,a.isError=Uu,a.isFinite=Tg,a.isFunction=ue,a.isInteger=_a,a.isLength=Mi,a.isMap=va,a.isMatch=Cg,a.isMatchWith=Fg,a.isNaN=Ig,a.isNative=Eg,a.isNil=Mg,a.isNull=Rg,a.isNumber=ma,a.isObject=zt,a.isObjectLike=Ut,a.isPlainObject=Er,a.isRegExp=Nu,a.isSafeInteger=Og,a.isSet=wa,a.isString=Oi,a.isSymbol=bn,a.isTypedArray=er,a.isUndefined=Lg,a.isWeakMap=Bg,a.isWeakSet=Dg,a.join=Wh,a.kebabCase=Ad,a.last=On,a.lastIndexOf=Uh,a.lowerCase=Td,a.lowerFirst=Cd,a.lt=Pg,a.lte=zg,a.max=y_,a.maxBy=b_,a.mean=x_,a.meanBy=S_,a.min=A_,a.minBy=T_,a.stubArray=Xu,a.stubFalse=Ju,a.stubObject=l_,a.stubString=c_,a.stubTrue=h_,a.multiply=C_,a.nth=Nh,a.noConflict=e_,a.noop=Zu,a.now=Ii,a.pad=Fd,a.padEnd=Id,a.padStart=Ed,a.parseInt=Rd,a.random=wd,a.reduce=qp,a.reduceRight=Gp,a.repeat=Md,a.replace=Od,a.result=fd,a.round=F_,a.runInContext=w,a.sample=Yp,a.size=Jp,a.snakeCase=Ld,a.some=$p,a.sortedIndex=Zh,a.sortedIndexBy=Xh,a.sortedIndexOf=Jh,a.sortedLastIndex=$h,a.sortedLastIndexBy=Qh,a.sortedLastIndexOf=Vh,a.startCase=Dd,a.startsWith=Pd,a.subtract=I_,a.sum=E_,a.sumBy=R_,a.template=zd,a.times=p_,a.toFinite=oe,a.toInteger=ot,a.toLength=ba,a.toLower=Wd,a.toNumber=Ln,a.toSafeInteger=Wg,a.toString=xt,a.toUpper=Ud,a.trim=Nd,a.trimEnd=Hd,a.trimStart=kd,a.truncate=qd,a.unescape=Gd,a.uniqueId=d_,a.upperCase=Kd,a.upperFirst=qu,a.each=sa,a.eachRight=aa,a.first=ra,Yu(a,function(){var t={};return Yn(a,function(n,e){St.call(a.prototype,e)||(t[e]=n)}),t}(),{chain:!1}),a.VERSION=h,Fn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){a[t].placeholder=a}),Fn(["drop","take"],function(t,n){ht.prototype[t]=function(e){e=e===i?1:Yt(ot(e),0);var r=this.__filtered__&&!n?new ht(this):this.clone();return r.__filtered__?r.__takeCount__=rn(e,r.__takeCount__):r.__views__.push({size:rn(e,z),type:t+(r.__dir__<0?"Right":"")}),r},ht.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),Fn(["filter","map","takeWhile"],function(t,n){var e=n+1,r=e==Zt||e==p;ht.prototype[t]=function(o){var f=this.clone();return f.__iteratees__.push({iteratee:V(o,3),type:e}),f.__filtered__=f.__filtered__||r,f}}),Fn(["head","last"],function(t,n){var e="take"+(n?"Right":"");ht.prototype[t]=function(){return this[e](1).value()[0]}}),Fn(["initial","tail"],function(t,n){var e="drop"+(n?"":"Right");ht.prototype[t]=function(){return this.__filtered__?new ht(this):this[e](1)}}),ht.prototype.compact=function(){return this.filter(gn)},ht.prototype.find=function(t){return this.filter(t).head()},ht.prototype.findLast=function(t){return this.reverse().find(t)},ht.prototype.invokeMap=ft(function(t,n){return typeof t=="function"?new ht(this):this.map(function(e){return Sr(e,t,n)})}),ht.prototype.reject=function(t){return this.filter(Ri(V(t)))},ht.prototype.slice=function(t,n){t=ot(t);var e=this;return e.__filtered__&&(t>0||n<0)?new ht(e):(t<0?e=e.takeRight(-t):t&&(e=e.drop(t)),n!==i&&(n=ot(n),e=n<0?e.dropRight(-n):e.take(n-t)),e)},ht.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},ht.prototype.toArray=function(){return this.take(z)},Yn(ht.prototype,function(t,n){var e=/^(?:filter|find|map|reject)|While$/.test(n),r=/^(?:head|last)$/.test(n),o=a[r?"take"+(n=="last"?"Right":""):n],f=r||/^find/.test(n);o&&(a.prototype[n]=function(){var c=this.__wrapped__,d=r?[1]:arguments,y=c instanceof ht,I=d[0],E=y||it(c),M=function(lt){var dt=o.apply(a,_e([lt],d));return r&&D?dt[0]:dt};E&&e&&typeof I=="function"&&I.length!=1&&(y=E=!1);var D=this.__chain__,K=!!this.__actions__.length,j=f&&!D,st=y&&!K;if(!f&&E){c=st?c:new ht(this);var tt=t.apply(c,d);return tt.__actions__.push({func:Ci,args:[M],thisArg:i}),new En(tt,D)}return j&&st?t.apply(this,d):(tt=this.thru(M),j?r?tt.value()[0]:tt.value():tt)})}),Fn(["pop","push","shift","sort","splice","unshift"],function(t){var n=Vr[t],e=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);a.prototype[t]=function(){var o=arguments;if(r&&!this.__chain__){var f=this.value();return n.apply(it(f)?f:[],o)}return this[e](function(c){return n.apply(it(c)?c:[],o)})}}),Yn(ht.prototype,function(t,n){var e=a[n];if(e){var r=e.name+"";St.call(Qe,r)||(Qe[r]=[]),Qe[r].push({name:n,func:e})}}),Qe[wi(i,nt).name]=[{name:"wrapper",func:i}],ht.prototype.clone=Gl,ht.prototype.reverse=Kl,ht.prototype.value=Yl,a.prototype.at=bp,a.prototype.chain=xp,a.prototype.commit=Sp,a.prototype.next=Ap,a.prototype.plant=Cp,a.prototype.reverse=Fp,a.prototype.toJSON=a.prototype.valueOf=a.prototype.value=Ip,a.prototype.first=a.prototype.head,_r&&(a.prototype[_r]=Tp),a},Xe=Sl();Ce?((Ce.exports=Xe)._=Xe,Ki._=Xe):tn._=Xe}).call(sr)})(av,Qt);function Ua(s,{delay:u=0,duration:i=400,easing:h=Za}={}){const l=+getComputedStyle(s).opacity;return{delay:u,duration:i,easing:h,css:b=>`opacity: ${b*l}`}}class fv extends Ur{constructor(u){super(),Wr(this,u,null,null,hr,{})}}const ur=[];function Pe(s,u=Vt){let i;const h=new Set;function l(v){if(hr(s,v)&&(s=v,i)){const T=!ur.length;for(const R of h)R[1](),ur.push(R,s);if(T){for(let R=0;R<ur.length;R+=2)ur[R][0](ur[R+1]);ur.length=0}}}function b(v){l(v(s))}function g(v,T=Vt){const R=[v,T];return h.add(R),h.size===1&&(i=u(l)||Vt),v(s),()=>{h.delete(R),h.size===0&&(i(),i=null)}}return{set:l,update:b,subscribe:g}}function to(s,u){Ev&&console.log(s,u||"")}function Na(s){const u=Qt.sum(Qt.map(s,i=>Math.pow(10,i)));return Math.log10(u)}function lv(s,u){const{normalize:i,forceMax:h}=u;let l=i&&Qt.max(s)||-30;return h&&(l=h),s.map(b=>Math.pow(10,b-l))}function Mr(s,u){const i=u.getContext("2d");if(!i){console.error("error getting canvas context");return}i.fillStyle="rgb(0, 0, 0)",i.fillRect(0,0,u.width,u.height);const h=s.length,l=u.width/h*2.5;let b=0;for(let g=0;g<h;g++){const v=(s[g]+140)*2;i.fillStyle="rgb("+Math.floor(v+100)+", 50, 50)",i.fillRect(b,u.height-v/2,l,v/2),b+=l+1}}function cv(s=0){return s>=Math.random()}class hv{constructor(){pt(this,"input");pt(this,"input2");pt(this,"analyser");pt(this,"ctx");pt(this,"canvas");pt(this,"deviceId");pt(this,"groupId");pt(this,"sampleRate")}start(){try{return window.AudioContext=window.AudioContext||window.webkitAudioContext,this.ctx=new AudioContext,this.sampleRate=this.ctx.sampleRate,to("Audio Sample Rate:",this.sampleRate),this.setInputDeviceId().then(this.initializeAudio.bind(this)).then(()=>{console.log("audio start complete")}).catch(u=>(console.error("error up",u.message),Promise.reject(u.message)))}catch(u){return console.error("error here",u.message),Promise.reject(u.message)}}setInputDeviceId(){return navigator.mediaDevices.enumerateDevices().then(u=>{const i=u.filter(l=>l.kind==="audioinput"),h=i[0];if(h)i.length>1&&console.warn(`multiple audio devices found - selecting ${JSON.stringify(h)}`);else{console.error("no audio input device found");return}this.deviceId=h.deviceId,this.groupId=h.groupId})}initializeAudio(){const u=this.ctx,i={audio:{}};this.deviceId?i.audio={deviceId:{exact:this.deviceId}}:this.groupId&&(i.audio={groupId:{exact:this.groupId}});try{return navigator.mediaDevices.getUserMedia(i).then(h=>{const l=u.createMediaStreamSource(h);this.input=l,this.analyser=u.createAnalyser(),this.analyser.fftSize=fe,this.analyser.smoothingTimeConstant=.5}).catch(function(h){console.error("Error initializing audio input",h.message)})}catch(h){return console.error("try failed:",h),Promise.reject(h)}}async analyseSample(u,i,h){const l=this.ctx.createAnalyser();l.fftSize=fe,l.smoothingTimeConstant=.97,i.connect(l);const b=l.frequencyBinCount,g=new Float32Array(b),v=5,T=Math.floor(h*1e3/v);u.play();for(let R=0;R<v;R++)await new Promise(L=>setTimeout(L,T)),l.getFloatFrequencyData(g),Qt.max(g)===-1/0&&console.warn(`issue occurred analysing sample on step ${R}`);return g}setCanvas(u){this.canvas=u}}var no={},pv={get exports(){return no},set exports(s){no=s}};(function(s,u){(function(i,h){s.exports=h()})(sr,function(){function i(_,p,S){if(S||arguments.length===2)for(var m,F=0,B=p.length;F<B;F++)!m&&F in p||(m||(m=Array.prototype.slice.call(p,0,F)),m[F]=p[F]);return _.concat(m||Array.prototype.slice.call(p))}var h=Object.freeze({__proto__:null,blackman:function(_){for(var p=new Float32Array(_),S=2*Math.PI/(_-1),m=2*S,F=0;F<_/2;F++)p[F]=.42-.5*Math.cos(F*S)+.08*Math.cos(F*m);for(F=Math.ceil(_/2);F>0;F--)p[_-F]=p[F-1];return p},sine:function(_){for(var p=Math.PI/(_-1),S=new Float32Array(_),m=0;m<_;m++)S[m]=Math.sin(p*m);return S},hanning:function(_){for(var p=new Float32Array(_),S=0;S<_;S++)p[S]=.5-.5*Math.cos(2*Math.PI*S/(_-1));return p},hamming:function(_){for(var p=new Float32Array(_),S=0;S<_;S++)p[S]=.54-.46*Math.cos(2*Math.PI*(S/_-1));return p}}),l={};function b(_){for(;_%2==0&&_>1;)_/=2;return _===1}function g(_,p){if(p!=="rect"){if(p!==""&&p||(p="hanning"),l[p]||(l[p]={}),!l[p][_.length])try{l[p][_.length]=h[p](_.length)}catch{throw new Error("Invalid windowing function")}_=function(S,m){for(var F=[],B=0;B<Math.min(S.length,m.length);B++)F[B]=S[B]*m[B];return F}(_,l[p][_.length])}return _}function v(_,p,S){for(var m=new Float32Array(_),F=0;F<m.length;F++)m[F]=F*p/S,m[F]=13*Math.atan(m[F]/1315.8)+3.5*Math.atan(Math.pow(m[F]/7518,2));return m}function T(_){return Float32Array.from(_)}function R(_){return 1125*Math.log(1+_/700)}function L(_,p,S){for(var m,F=new Float32Array(_+2),B=new Float32Array(_+2),z=p/2,$=R(0),q=(R(z)-$)/(_+1),G=new Array(_+2),Z=0;Z<F.length;Z++)F[Z]=Z*q,B[Z]=(m=F[Z],700*(Math.exp(m/1125)-1)),G[Z]=Math.floor((S+1)*B[Z]/p);for(var wt=new Array(_),Q=0;Q<wt.length;Q++){for(wt[Q]=new Array(S/2+1).fill(0),Z=G[Q];Z<G[Q+1];Z++)wt[Q][Z]=(Z-G[Q])/(G[Q+1]-G[Q]);for(Z=G[Q+1];Z<G[Q+2];Z++)wt[Q][Z]=(G[Q+2]-Z)/(G[Q+2]-G[Q+1])}return wt}function P(_,p,S,m,F,B,z){m===void 0&&(m=5),F===void 0&&(F=2),B===void 0&&(B=!0),z===void 0&&(z=440);var $=Math.floor(S/2)+1,q=new Array(S).fill(0).map(function(gt,At){return _*function(_t,Pt){return Math.log2(16*_t/Pt)}(p*At/S,z)});q[0]=q[1]-1.5*_;var G,Z,wt,Q=q.slice(1).map(function(gt,At){return Math.max(gt-q[At])},1).concat([1]),Ct=Math.round(_/2),Ft=new Array(_).fill(0).map(function(gt,At){return q.map(function(_t){return(10*_+Ct+_t-At)%_-Ct})}),Mt=Ft.map(function(gt,At){return gt.map(function(_t,Pt){return Math.exp(-.5*Math.pow(2*Ft[At][Pt]/Q[Pt],2))})});if(Z=(G=Mt)[0].map(function(){return 0}),wt=G.reduce(function(gt,At){return At.forEach(function(_t,Pt){gt[Pt]+=Math.pow(_t,2)}),gt},Z).map(Math.sqrt),Mt=G.map(function(gt,At){return gt.map(function(_t,Pt){return _t/(wt[Pt]||1)})}),F){var Xt=q.map(function(gt){return Math.exp(-.5*Math.pow((gt/_-m)/F,2))});Mt=Mt.map(function(gt){return gt.map(function(At,_t){return At*Xt[_t]})})}return B&&(Mt=i(i([],Mt.slice(3),!0),Mt.slice(0,3),!0)),Mt.map(function(gt){return gt.slice(0,$)})}function k(_,p){for(var S=0,m=0,F=0;F<p.length;F++)S+=Math.pow(F,_)*Math.abs(p[F]),m+=p[F];return S/m}function N(_){var p=_.ampSpectrum,S=_.barkScale,m=_.numberOfBarkBands,F=m===void 0?24:m;if(typeof p!="object"||typeof S!="object")throw new TypeError;var B=F,z=new Float32Array(B),$=0,q=p,G=new Int32Array(B+1);G[0]=0;for(var Z=S[q.length-1]/B,wt=1,Q=0;Q<q.length;Q++)for(;S[Q]>Z;)G[wt++]=Q,Z=wt*S[q.length-1]/B;for(G[B]=q.length-1,Q=0;Q<B;Q++){for(var Ct=0,Ft=G[Q];Ft<G[Q+1];Ft++)Ct+=q[Ft];z[Q]=Math.pow(Ct,.23)}for(Q=0;Q<z.length;Q++)$+=z[Q];return{specific:z,total:$}}function X(_){var p=_.ampSpectrum;if(typeof p!="object")throw new TypeError;for(var S=new Float32Array(p.length),m=0;m<S.length;m++)S[m]=Math.pow(p[m],2);return S}function J(_){var p=_.ampSpectrum,S=_.melFilterBank,m=_.bufferSize;if(typeof p!="object")throw new TypeError("Valid ampSpectrum is required to generate melBands");if(typeof S!="object")throw new TypeError("Valid melFilterBank is required to generate melBands");for(var F=X({ampSpectrum:p}),B=S.length,z=Array(B),$=new Float32Array(B),q=0;q<$.length;q++){z[q]=new Float32Array(m/2),$[q]=0;for(var G=0;G<m/2;G++)z[q][G]=S[q][G]*F[G],$[q]+=z[q][G];$[q]=Math.log($[q]+1)}return Array.prototype.slice.call($)}function Y(_){return _&&_.__esModule&&Object.prototype.hasOwnProperty.call(_,"default")?_.default:_}var nt={},et=null,at=function(_,p){var S=_.length;return p=p||2,et&&et[S]||function(m){(et=et||{})[m]=new Array(m*m);for(var F=Math.PI/m,B=0;B<m;B++)for(var z=0;z<m;z++)et[m][z+B*m]=Math.cos(F*(z+.5)*B)}(S),_.map(function(){return 0}).map(function(m,F){return p*_.reduce(function(B,z,$,q){return B+z*et[S][$+F*S]},0)})};(function(_){_.exports=at})({get exports(){return nt},set exports(_){nt=_}});var vt=Y(nt),mt=Object.freeze({__proto__:null,buffer:function(_){return _.signal},rms:function(_){var p=_.signal;if(typeof p!="object")throw new TypeError;for(var S=0,m=0;m<p.length;m++)S+=Math.pow(p[m],2);return S/=p.length,S=Math.sqrt(S)},energy:function(_){var p=_.signal;if(typeof p!="object")throw new TypeError;for(var S=0,m=0;m<p.length;m++)S+=Math.pow(Math.abs(p[m]),2);return S},complexSpectrum:function(_){return _.complexSpectrum},spectralSlope:function(_){var p=_.ampSpectrum,S=_.sampleRate,m=_.bufferSize;if(typeof p!="object")throw new TypeError;for(var F=0,B=0,z=new Float32Array(p.length),$=0,q=0,G=0;G<p.length;G++){F+=p[G];var Z=G*S/m;z[G]=Z,$+=Z*Z,B+=Z,q+=Z*p[G]}return(p.length*q-B*F)/(F*($-Math.pow(B,2)))},spectralCentroid:function(_){var p=_.ampSpectrum;if(typeof p!="object")throw new TypeError;return k(1,p)},spectralRolloff:function(_){var p=_.ampSpectrum,S=_.sampleRate;if(typeof p!="object")throw new TypeError;for(var m=p,F=S/(2*(m.length-1)),B=0,z=0;z<m.length;z++)B+=m[z];for(var $=.99*B,q=m.length-1;B>$&&q>=0;)B-=m[q],--q;return(q+1)*F},spectralFlatness:function(_){var p=_.ampSpectrum;if(typeof p!="object")throw new TypeError;for(var S=0,m=0,F=0;F<p.length;F++)S+=Math.log(p[F]),m+=p[F];return Math.exp(S/p.length)*p.length/m},spectralSpread:function(_){var p=_.ampSpectrum;if(typeof p!="object")throw new TypeError;return Math.sqrt(k(2,p)-Math.pow(k(1,p),2))},spectralSkewness:function(_){var p=_.ampSpectrum;if(typeof p!="object")throw new TypeError;var S=k(1,p),m=k(2,p),F=k(3,p);return(2*Math.pow(S,3)-3*S*m+F)/Math.pow(Math.sqrt(m-Math.pow(S,2)),3)},spectralKurtosis:function(_){var p=_.ampSpectrum;if(typeof p!="object")throw new TypeError;var S=p,m=k(1,S),F=k(2,S),B=k(3,S),z=k(4,S);return(-3*Math.pow(m,4)+6*m*F-4*m*B+z)/Math.pow(Math.sqrt(F-Math.pow(m,2)),4)},amplitudeSpectrum:function(_){return _.ampSpectrum},zcr:function(_){var p=_.signal;if(typeof p!="object")throw new TypeError;for(var S=0,m=1;m<p.length;m++)(p[m-1]>=0&&p[m]<0||p[m-1]<0&&p[m]>=0)&&S++;return S},loudness:N,perceptualSpread:function(_){for(var p=N({ampSpectrum:_.ampSpectrum,barkScale:_.barkScale}),S=0,m=0;m<p.specific.length;m++)p.specific[m]>S&&(S=p.specific[m]);return Math.pow((p.total-S)/p.total,2)},perceptualSharpness:function(_){for(var p=N({ampSpectrum:_.ampSpectrum,barkScale:_.barkScale}),S=p.specific,m=0,F=0;F<S.length;F++)m+=F<15?(F+1)*S[F+1]:.066*Math.exp(.171*(F+1));return m*=.11/p.total},powerSpectrum:X,mfcc:function(_){var p=_.ampSpectrum,S=_.melFilterBank,m=_.numberOfMFCCCoefficients,F=_.bufferSize,B=Math.min(40,Math.max(1,m||13));if(S.length<B)throw new Error("Insufficient filter bank for requested number of coefficients");var z=J({ampSpectrum:p,melFilterBank:S,bufferSize:F});return vt(z).slice(0,B)},chroma:function(_){var p=_.ampSpectrum,S=_.chromaFilterBank;if(typeof p!="object")throw new TypeError("Valid ampSpectrum is required to generate chroma");if(typeof S!="object")throw new TypeError("Valid chromaFilterBank is required to generate chroma");var m=S.map(function(B,z){return p.reduce(function($,q,G){return $+q*B[G]},0)}),F=Math.max.apply(Math,m);return F?m.map(function(B){return B/F}):m},spectralFlux:function(_){var p=_.signal,S=_.previousSignal,m=_.bufferSize;if(typeof p!="object"||typeof S!="object")throw new TypeError;for(var F=0,B=-m/2;B<p.length/2-1;B++)x=Math.abs(p[B])-Math.abs(S[B]),F+=(x+Math.abs(x))/2;return F},spectralCrest:function(_){var p=_.ampSpectrum;if(typeof p!="object")throw new TypeError;var S=0,m=-1/0;return p.forEach(function(F){S+=Math.pow(F,2),m=F>m?F:m}),S/=p.length,S=Math.sqrt(S),m/S},melBands:J});function Lt(_){if(Array.isArray(_)){for(var p=0,S=Array(_.length);p<_.length;p++)S[p]=_[p];return S}return Array.from(_)}var bt={},Dt={},Rt={bitReverseArray:function(_){if(bt[_]===void 0){for(var p=(_-1).toString(2).length,S="0".repeat(p),m={},F=0;F<_;F++){var B=F.toString(2);B=S.substr(B.length)+B,B=[].concat(Lt(B)).reverse().join(""),m[F]=parseInt(B,2)}bt[_]=m}return bt[_]},multiply:function(_,p){return{real:_.real*p.real-_.imag*p.imag,imag:_.real*p.imag+_.imag*p.real}},add:function(_,p){return{real:_.real+p.real,imag:_.imag+p.imag}},subtract:function(_,p){return{real:_.real-p.real,imag:_.imag-p.imag}},euler:function(_,p){var S=-2*Math.PI*_/p;return{real:Math.cos(S),imag:Math.sin(S)}},conj:function(_){return _.imag*=-1,_},constructComplexArray:function(_){var p={};p.real=_.real===void 0?_.slice():_.real.slice();var S=p.real.length;return Dt[S]===void 0&&(Dt[S]=Array.apply(null,Array(S)).map(Number.prototype.valueOf,0)),p.imag=Dt[S].slice(),p}},jt=function(_){var p={};_.real===void 0||_.imag===void 0?p=Rt.constructComplexArray(_):(p.real=_.real.slice(),p.imag=_.imag.slice());var S=p.real.length,m=Math.log2(S);if(Math.round(m)!=m)throw new Error("Input size must be a power of 2.");if(p.real.length!=p.imag.length)throw new Error("Real and imaginary components must have the same length.");for(var F=Rt.bitReverseArray(S),B={real:[],imag:[]},z=0;z<S;z++)B.real[F[z]]=p.real[z],B.imag[F[z]]=p.imag[z];for(var $=0;$<S;$++)p.real[$]=B.real[$],p.imag[$]=B.imag[$];for(var q=1;q<=m;q++)for(var G=Math.pow(2,q),Z=0;Z<G/2;Z++)for(var wt=Rt.euler(Z,G),Q=0;Q<S/G;Q++){var Ct=G*Q+Z,Ft=G*Q+Z+G/2,Mt={real:p.real[Ct],imag:p.imag[Ct]},Xt={real:p.real[Ft],imag:p.imag[Ft]},gt=Rt.multiply(wt,Xt),At=Rt.subtract(Mt,gt);p.real[Ft]=At.real,p.imag[Ft]=At.imag;var _t=Rt.add(gt,Mt);p.real[Ct]=_t.real,p.imag[Ct]=_t.imag}return p},en=jt,Gt=function(){function _(p,S){var m=this;if(this._m=S,!p.audioContext)throw this._m.errors.noAC;if(p.bufferSize&&!b(p.bufferSize))throw this._m._errors.notPow2;if(!p.source)throw this._m._errors.noSource;this._m.audioContext=p.audioContext,this._m.bufferSize=p.bufferSize||this._m.bufferSize||256,this._m.hopSize=p.hopSize||this._m.hopSize||this._m.bufferSize,this._m.sampleRate=p.sampleRate||this._m.audioContext.sampleRate||44100,this._m.callback=p.callback,this._m.windowingFunction=p.windowingFunction||"hanning",this._m.featureExtractors=mt,this._m.EXTRACTION_STARTED=p.startImmediately||!1,this._m.channel=typeof p.channel=="number"?p.channel:0,this._m.inputs=p.inputs||1,this._m.outputs=p.outputs||1,this._m.numberOfMFCCCoefficients=p.numberOfMFCCCoefficients||this._m.numberOfMFCCCoefficients||13,this._m.numberOfBarkBands=p.numberOfBarkBands||this._m.numberOfBarkBands||24,this._m.spn=this._m.audioContext.createScriptProcessor(this._m.bufferSize,this._m.inputs,this._m.outputs),this._m.spn.connect(this._m.audioContext.destination),this._m._featuresToExtract=p.featureExtractors||[],this._m.barkScale=v(this._m.bufferSize,this._m.sampleRate,this._m.bufferSize),this._m.melFilterBank=L(Math.max(this._m.melBands,this._m.numberOfMFCCCoefficients),this._m.sampleRate,this._m.bufferSize),this._m.inputData=null,this._m.previousInputData=null,this._m.frame=null,this._m.previousFrame=null,this.setSource(p.source),this._m.spn.onaudioprocess=function(F){var B;m._m.inputData!==null&&(m._m.previousInputData=m._m.inputData),m._m.inputData=F.inputBuffer.getChannelData(m._m.channel),m._m.previousInputData?((B=new Float32Array(m._m.previousInputData.length+m._m.inputData.length-m._m.hopSize)).set(m._m.previousInputData.slice(m._m.hopSize)),B.set(m._m.inputData,m._m.previousInputData.length-m._m.hopSize)):B=m._m.inputData,function(z,$,q){if(z.length<$)throw new Error("Buffer is too short for frame length");if(q<1)throw new Error("Hop length cannot be less that 1");if($<1)throw new Error("Frame length cannot be less that 1");var G=1+Math.floor((z.length-$)/q);return new Array(G).fill(0).map(function(Z,wt){return z.slice(wt*q,wt*q+$)})}(B,m._m.bufferSize,m._m.hopSize).forEach(function(z){m._m.frame=z;var $=m._m.extract(m._m._featuresToExtract,m._m.frame,m._m.previousFrame);typeof m._m.callback=="function"&&m._m.EXTRACTION_STARTED&&m._m.callback($),m._m.previousFrame=m._m.frame})}}return _.prototype.start=function(p){this._m._featuresToExtract=p||this._m._featuresToExtract,this._m.EXTRACTION_STARTED=!0},_.prototype.stop=function(){this._m.EXTRACTION_STARTED=!1},_.prototype.setSource=function(p){this._m.source&&this._m.source.disconnect(this._m.spn),this._m.source=p,this._m.source.connect(this._m.spn)},_.prototype.setChannel=function(p){p<=this._m.inputs?this._m.channel=p:console.error("Channel ".concat(p," does not exist. Make sure you've provided a value for 'inputs' that is greater than ").concat(p," when instantiating the MeydaAnalyzer"))},_.prototype.get=function(p){return this._m.inputData?this._m.extract(p||this._m._featuresToExtract,this._m.inputData,this._m.previousInputData):null},_}(),U={audioContext:null,spn:null,bufferSize:512,sampleRate:44100,melBands:26,chromaBands:12,callback:null,windowingFunction:"hanning",featureExtractors:mt,EXTRACTION_STARTED:!1,numberOfMFCCCoefficients:13,numberOfBarkBands:24,_featuresToExtract:[],windowing:g,_errors:{notPow2:new Error("Meyda: Buffer size must be a power of 2, e.g. 64 or 512"),featureUndef:new Error("Meyda: No features defined."),invalidFeatureFmt:new Error("Meyda: Invalid feature format"),invalidInput:new Error("Meyda: Invalid input."),noAC:new Error("Meyda: No AudioContext specified."),noSource:new Error("Meyda: No source node specified.")},createMeydaAnalyzer:function(_){return new Gt(_,Object.assign({},U))},listAvailableFeatureExtractors:function(){return Object.keys(this.featureExtractors)},extract:function(_,p,S){var m=this;if(!p)throw this._errors.invalidInput;if(typeof p!="object")throw this._errors.invalidInput;if(!_)throw this._errors.featureUndef;if(!b(p.length))throw this._errors.notPow2;this.barkScale!==void 0&&this.barkScale.length==this.bufferSize||(this.barkScale=v(this.bufferSize,this.sampleRate,this.bufferSize)),this.melFilterBank!==void 0&&this.barkScale.length==this.bufferSize&&this.melFilterBank.length==this.melBands||(this.melFilterBank=L(Math.max(this.melBands,this.numberOfMFCCCoefficients),this.sampleRate,this.bufferSize)),this.chromaFilterBank!==void 0&&this.chromaFilterBank.length==this.chromaBands||(this.chromaFilterBank=P(this.chromaBands,this.sampleRate,this.bufferSize)),"buffer"in p&&p.buffer===void 0?this.signal=T(p):this.signal=p;var F=Zt(p,this.windowingFunction,this.bufferSize);if(this.signal=F.windowedSignal,this.complexSpectrum=F.complexSpectrum,this.ampSpectrum=F.ampSpectrum,S){var B=Zt(S,this.windowingFunction,this.bufferSize);this.previousSignal=B.windowedSignal,this.previousComplexSpectrum=B.complexSpectrum,this.previousAmpSpectrum=B.ampSpectrum}var z=function($){return m.featureExtractors[$]({ampSpectrum:m.ampSpectrum,chromaFilterBank:m.chromaFilterBank,complexSpectrum:m.complexSpectrum,signal:m.signal,bufferSize:m.bufferSize,sampleRate:m.sampleRate,barkScale:m.barkScale,melFilterBank:m.melFilterBank,previousSignal:m.previousSignal,previousAmpSpectrum:m.previousAmpSpectrum,previousComplexSpectrum:m.previousComplexSpectrum,numberOfMFCCCoefficients:m.numberOfMFCCCoefficients,numberOfBarkBands:m.numberOfBarkBands})};if(typeof _=="object")return _.reduce(function($,q){var G;return Object.assign({},$,((G={})[q]=z(q),G))},{});if(typeof _=="string")return z(_);throw this._errors.invalidFeatureFmt}},Zt=function(_,p,S){var m={};_.buffer===void 0?m.signal=T(_):m.signal=_,m.windowedSignal=g(m.signal,p),m.complexSpectrum=en(m.windowedSignal),m.ampSpectrum=new Float32Array(S/2);for(var F=0;F<S/2;F++)m.ampSpectrum[F]=Math.sqrt(Math.pow(m.complexSpectrum.real[F],2)+Math.pow(m.complexSpectrum.imag[F],2));return m};return typeof window<"u"&&(window.Meyda=U),U})})(pv);const gv=sv(no);function dv(s){if(!Number.isInteger(s)||s<1)throw new TypeError(`size must be a positive integer. Got ${s}`)}function _v(s){if(s.length===0||s.length%2!==1)throw new RangeError(`kernel must have an odd positive length. Got ${s.length}`)}function vv(s){if(s!=="CONSTANT"&&s!=="CUT")throw new RangeError(`unexpected border type: ${s}`)}function mv(s,u){if(s!==u)throw new RangeError(`input length (${s}) does not match setup size (${u})`)}function Or(s){const u=[];for(var i=0;i<s;i++)u.push(0);return u}function dn(s){if(this.size=s|0,this.size<=1||this.size&this.size-1)throw new Error("FFT size must be a power of two and bigger than 1");this._csize=s<<1;for(var u=new Array(this.size*2),i=0;i<u.length;i+=2){const T=Math.PI*i/this.size;u[i]=Math.cos(T),u[i+1]=-Math.sin(T)}this.table=u;for(var h=0,l=1;this.size>l;l<<=1)h++;this._width=h%2===0?h-1:h,this._bitrev=new Array(1<<this._width);for(var b=0;b<this._bitrev.length;b++){this._bitrev[b]=0;for(var g=0;g<this._width;g+=2){var v=this._width-g-2;this._bitrev[b]|=(b>>>g&3)<<v}}this._out=null,this._data=null,this._inv=0}var wv=dn;dn.prototype.fromComplexArray=function(u,i){for(var h=i||new Array(u.length>>>1),l=0;l<u.length;l+=2)h[l>>>1]=u[l];return h};dn.prototype.createComplexArray=function(){const u=new Array(this._csize);for(var i=0;i<u.length;i++)u[i]=0;return u};dn.prototype.toComplexArray=function(u,i){for(var h=i||this.createComplexArray(),l=0;l<h.length;l+=2)h[l]=u[l>>>1],h[l+1]=0;return h};dn.prototype.completeSpectrum=function(u){for(var i=this._csize,h=i>>>1,l=2;l<h;l+=2)u[i-l]=u[l],u[i-l+1]=-u[l+1]};dn.prototype.transform=function(u,i){if(u===i)throw new Error("Input and output buffers must be different");this._out=u,this._data=i,this._inv=0,this._transform4(),this._out=null,this._data=null};dn.prototype.realTransform=function(u,i){if(u===i)throw new Error("Input and output buffers must be different");this._out=u,this._data=i,this._inv=0,this._realTransform4(),this._out=null,this._data=null};dn.prototype.inverseTransform=function(u,i){if(u===i)throw new Error("Input and output buffers must be different");this._out=u,this._data=i,this._inv=1,this._transform4();for(var h=0;h<u.length;h++)u[h]/=this.size;this._out=null,this._data=null};dn.prototype._transform4=function(){var u=this._out,i=this._csize,h=this._width,l=1<<h,b=i/l<<1,g,v,T=this._bitrev;if(b===4)for(g=0,v=0;g<i;g+=b,v++){const J=T[v];this._singleTransform2(g,J,l)}else for(g=0,v=0;g<i;g+=b,v++){const J=T[v];this._singleTransform4(g,J,l)}var R=this._inv?-1:1,L=this.table;for(l>>=2;l>=2;l>>=2){b=i/l<<1;var P=b>>>2;for(g=0;g<i;g+=b)for(var k=g+P,N=g,X=0;N<k;N+=2,X+=l){const J=N,Y=J+P,nt=Y+P,et=nt+P,at=u[J],vt=u[J+1],mt=u[Y],Lt=u[Y+1],bt=u[nt],Dt=u[nt+1],Rt=u[et],jt=u[et+1],en=at,Gt=vt,U=L[X],Zt=R*L[X+1],_=mt*U-Lt*Zt,p=mt*Zt+Lt*U,S=L[2*X],m=R*L[2*X+1],F=bt*S-Dt*m,B=bt*m+Dt*S,z=L[3*X],$=R*L[3*X+1],q=Rt*z-jt*$,G=Rt*$+jt*z,Z=en+F,wt=Gt+B,Q=en-F,Ct=Gt-B,Ft=_+q,Mt=p+G,Xt=R*(_-q),gt=R*(p-G),At=Z+Ft,_t=wt+Mt,Pt=Z-Ft,ce=wt-Mt,It=Q+gt,_n=Ct-Xt,$n=Q-gt,An=Ct+Xt;u[J]=At,u[J+1]=_t,u[Y]=It,u[Y+1]=_n,u[nt]=Pt,u[nt+1]=ce,u[et]=$n,u[et+1]=An}}};dn.prototype._singleTransform2=function(u,i,h){const l=this._out,b=this._data,g=b[i],v=b[i+1],T=b[i+h],R=b[i+h+1],L=g+T,P=v+R,k=g-T,N=v-R;l[u]=L,l[u+1]=P,l[u+2]=k,l[u+3]=N};dn.prototype._singleTransform4=function(u,i,h){const l=this._out,b=this._data,g=this._inv?-1:1,v=h*2,T=h*3,R=b[i],L=b[i+1],P=b[i+h],k=b[i+h+1],N=b[i+v],X=b[i+v+1],J=b[i+T],Y=b[i+T+1],nt=R+N,et=L+X,at=R-N,vt=L-X,mt=P+J,Lt=k+Y,bt=g*(P-J),Dt=g*(k-Y),Rt=nt+mt,jt=et+Lt,en=at+Dt,Gt=vt-bt,U=nt-mt,Zt=et-Lt,_=at-Dt,p=vt+bt;l[u]=Rt,l[u+1]=jt,l[u+2]=en,l[u+3]=Gt,l[u+4]=U,l[u+5]=Zt,l[u+6]=_,l[u+7]=p};dn.prototype._realTransform4=function(){var u=this._out,i=this._csize,h=this._width,l=1<<h,b=i/l<<1,g,v,T=this._bitrev;if(b===4)for(g=0,v=0;g<i;g+=b,v++){const Gn=T[v];this._singleRealTransform2(g,Gn>>>1,l>>>1)}else for(g=0,v=0;g<i;g+=b,v++){const Gn=T[v];this._singleRealTransform4(g,Gn>>>1,l>>>1)}var R=this._inv?-1:1,L=this.table;for(l>>=2;l>=2;l>>=2){b=i/l<<1;var P=b>>>1,k=P>>>1,N=k>>>1;for(g=0;g<i;g+=b)for(var X=0,J=0;X<=N;X+=2,J+=l){var Y=g+X,nt=Y+k,et=nt+k,at=et+k,vt=u[Y],mt=u[Y+1],Lt=u[nt],bt=u[nt+1],Dt=u[et],Rt=u[et+1],jt=u[at],en=u[at+1],Gt=vt,U=mt,Zt=L[J],_=R*L[J+1],p=Lt*Zt-bt*_,S=Lt*_+bt*Zt,m=L[2*J],F=R*L[2*J+1],B=Dt*m-Rt*F,z=Dt*F+Rt*m,$=L[3*J],q=R*L[3*J+1],G=jt*$-en*q,Z=jt*q+en*$,wt=Gt+B,Q=U+z,Ct=Gt-B,Ft=U-z,Mt=p+G,Xt=S+Z,gt=R*(p-G),At=R*(S-Z),_t=wt+Mt,Pt=Q+Xt,ce=Ct+At,It=Ft-gt;if(u[Y]=_t,u[Y+1]=Pt,u[nt]=ce,u[nt+1]=It,X===0){var _n=wt-Mt,$n=Q-Xt;u[et]=_n,u[et+1]=$n;continue}if(X!==N){var An=Ct,Jt=-Ft,Hn=wt,on=-Q,Ae=-R*At,kn=-R*gt,he=-R*Xt,qn=-R*Mt,Dn=An+Ae,pe=Jt+kn,Tn=Hn+qn,Qn=on-he,Vn=g+k-X,Pn=g+P-X;u[Vn]=Dn,u[Vn+1]=pe,u[Pn]=Tn,u[Pn+1]=Qn}}}};dn.prototype._singleRealTransform2=function(u,i,h){const l=this._out,b=this._data,g=b[i],v=b[i+h],T=g+v,R=g-v;l[u]=T,l[u+1]=0,l[u+2]=R,l[u+3]=0};dn.prototype._singleRealTransform4=function(u,i,h){const l=this._out,b=this._data,g=this._inv?-1:1,v=h*2,T=h*3,R=b[i],L=b[i+h],P=b[i+v],k=b[i+T],N=R+P,X=R-P,J=L+k,Y=g*(L-k),nt=N+J,et=X,at=-Y,vt=N-J,mt=X,Lt=Y;l[u]=nt,l[u+1]=0,l[u+2]=et,l[u+3]=at,l[u+4]=vt,l[u+5]=0,l[u+6]=mt,l[u+7]=Lt};var yv=bv;function bv(s){return s===0?1:(s--,s|=s>>1,s|=s>>2,s|=s>>4,s|=s>>8,s|=s>>16,s+1)}class xv{constructor(u,i,h="CONSTANT"){dv(u),_v(i),vv(h),this.size=u,this.kernelOffset=(i.length-1)/2,this.doubleOffset=2*this.kernelOffset,this.borderType=h;const l=u+this.doubleOffset;this.fftLength=yv(Math.max(l,2)),this.fftComplexLength=this.fftLength*2,this.fft=new wv(this.fftLength),i=i.slice().reverse();const b=Or(this.fftComplexLength);this.fftKernel=Or(this.fftComplexLength),Ha(i,b,this.fftComplexLength),this.fft.transform(this.fftKernel,b),this.paddedInput=Or(this.fftComplexLength),this.fftInput=Or(this.fftComplexLength),this.ifftOutput=Or(this.fftComplexLength),this.result=b}convolve(u){mv(u.length,this.size),Ha(u,this.paddedInput,this.fftComplexLength),this.fft.transform(this.fftInput,this.paddedInput);for(var i=0;i<this.fftInput.length;i+=2){const l=this.fftInput[i]*this.fftKernel[i]-this.fftInput[i+1]*this.fftKernel[i+1];this.fftInput[i+1]=this.fftInput[i]*this.fftKernel[i+1]+this.fftInput[i+1]*this.fftKernel[i],this.fftInput[i]=l}this.fft.inverseTransform(this.ifftOutput,this.fftInput);const h=this.fft.fromComplexArray(this.ifftOutput,this.result);return this.borderType==="CONSTANT"?h.slice(this.kernelOffset,this.kernelOffset+u.length):h.slice(this.doubleOffset,u.length)}}function Ha(s,u,i){let h=0;for(;h<s.length;h++)u[h*2]=s[h],u[h*2+1]=0;for(h*=2;h<i;h+=2)u[h]=0,u[h+1]=0}let Sv=0,Av=class{constructor(u,i){pt(this,"id");pt(this,"audioFilepath");pt(this,"audioConfig");pt(this,"shyness");pt(this,"eagerness");pt(this,"audioImprint");pt(this,"directInputFFT");pt(this,"convolutionFFT");pt(this,"diffFFT");pt(this,"audioElement");pt(this,"fft");pt(this,"lastUpdated");pt(this,"currentTimestamp");pt(this,"rateOfStateChange");pt(this,"sampleDuration");pt(this,"amplitudeThreshold");pt(this,"hasInitialized");pt(this,"convolutionAnalyser");pt(this,"directInputAnalyser");pt(this,"meydaAnalyser");pt(this,"amplitude");pt(this,"convolutionAmplitude");pt(this,"convolver");pt(this,"ambientFFT");pt(this,"frogSignalDetected");pt(this,"isCurrentlySinging");pt(this,"audioFeatures");this.id=++Sv,this.audioConfig=u,this.audioFilepath=i,this.shyness=1,this.eagerness=0,this.audioImprint=new Float32Array(fe/2),this.lastUpdated=Date.now(),this.currentTimestamp=Date.now(),this.rateOfStateChange=.2,this.amplitudeThreshold=-80,this.hasInitialized=!1,this.frogSignalDetected=!1,this.isCurrentlySinging=!1,this.createAudioElement()}async initialize(){await this.setSampleDuration();const i=this.audioConfig.ctx.createMediaElementSource(this.audioElement);await this.createAudioImprint(i),i.connect(this.audioConfig.ctx.destination),this.setUpAnalysers(),setInterval(this.tryChirp.bind(this),100),this.hasInitialized=!0,to("frog initialized!",this)}updateState(){this.hasInitialized&&(this.isCurrentlySinging,this.analyseInputSignal(),this.currentTimestamp=Date.now(),this.establishAmbientFFT(),this.detectFrogSignal(),this.updateShyness(),this.updateEagerness(),this.lastUpdated=this.currentTimestamp)}async createConvolver(){this.convolver=this.audioConfig.ctx.createConvolver(),this.convolver.normalize=!1;const i=await(await fetch(this.audioFilepath)).arrayBuffer();this.convolver.buffer=await this.audioConfig.ctx.decodeAudioData(i)}setUpAnalysers(){this.directInputAnalyser=this.audioConfig.ctx.createAnalyser(),this.directInputAnalyser.fftSize=fe,this.directInputAnalyser.smoothingTimeConstant=.8,zi.connect(this.directInputAnalyser),this.createConvolver(),this.convolutionAnalyser=this.audioConfig.ctx.createAnalyser(),this.convolutionAnalyser.fftSize=fe,this.convolutionAnalyser.smoothingTimeConstant=.8,zi.connect(this.convolver),this.convolver.connect(this.convolutionAnalyser),this.meydaAnalyser=gv.createMeydaAnalyzer({audioContext:this.audioConfig.ctx,sampleRate:this.audioConfig.ctx.sampleRate,source:zi,bufferSize:512,featureExtractors:["loudness","perceptualSpread","spectralSlope"],callback:i=>{this.audioFeatures=Object.assign(i)}}),this.meydaAnalyser.start()}async setSampleDuration(){await new Promise(u=>{const i=new XMLHttpRequest;i.open("GET",this.audioElement.src,!0),i.responseType="arraybuffer",i.onload=()=>{const h=i.response;this.audioConfig.ctx.decodeAudioData(h,l=>{this.sampleDuration=l.duration,to("Sample Duration:",this.sampleDuration),u()})},i.send()})}async createAudioImprint(u){this.audioImprint=await this.audioConfig.analyseSample(this.audioElement,u,this.sampleDuration),this.audioImprint.reduce((h,l)=>Math.max(h,l),-1/0),this.audioImprint.reduce((h,l)=>Math.min(h,l),1/0);const i=lv(this.audioImprint,{normalize:!0});i.reduce((h,l)=>Math.max(h,l),-1/0),i.reduce((h,l)=>Math.min(h,l),1/0),this.fft=new xv(fe/2,i.subarray(0,fe/2-1))}createAudioElement(){this.audioElement=new Audio,this.audioElement.src=this.audioFilepath,this.audioElement.controls=!1,this.audioElement.loop=!1,this.audioElement.autoplay=!1,this.audioElement.crossOrigin="anonymous"}analyseInputSignal(){const u=new Float32Array(fe/2),i=new Float32Array(fe/2);this.convolutionAnalyser.getFloatFrequencyData(u),this.convolutionAmplitude=Na(u),this.directInputAnalyser.getFloatFrequencyData(i),this.amplitude=Na(i),this.convolutionFFT=u,this.directInputFFT=i,this.diffFFT=u.map((h,l)=>this.ambientFFT?h-this.ambientFFT[l]-60:-1/0)}establishAmbientFFT(){this.amplitude<this.amplitudeThreshold&&(this.ambientFFT=this.convolutionFFT)}findPeakBin(u){const i={index:0,value:-1/0};return u?u.reduce((h,l,b)=>l>h.value?{index:b,value:l}:h,i):i}detectFrogSignal(){const u=this.findPeakBin(this.convolutionFFT),i=this.findPeakBin(this.ambientFFT),h=Math.abs(u.index-i.index)<4,l=u.value>i.value;this.frogSignalDetected=h&&l}updateShyness(){if(this.amplitude<this.amplitudeThreshold)this.shyness-=.1*this.timeSinceLastUpdate();else{const h=this.rateOfStateChange;this.shyness+=h*this.timeSinceLastUpdate()}this.shyness=Math.max(0,Math.min(1,this.shyness))}updateEagerness(){if(this.frogSignalDetected){const u=this.rateOfStateChange;this.eagerness+=u*this.timeSinceLastUpdate()}this.eagerness=Math.min(1,this.eagerness)}timeSinceLastUpdate(){return(this.currentTimestamp-this.lastUpdated)/1e3}playSample(){this.isCurrentlySinging=!0,this.meydaAnalyser.stop(),setTimeout(()=>{this.isCurrentlySinging=!1,this.meydaAnalyser.start()},this.sampleDuration*1e3),this.audioElement.play()}determineChirpProbability(){return this.eagerness*(1-this.shyness)}tryChirp(){const u=this.determineChirpProbability();cv(u)&&(this.playSample(),this.eagerness=0)}};const of=Pe(!1),sf=Pe(!1),af=Pe(""),Tv=1,Cv="https://reubenson.com/frog/audio",Fv=["Aneides_lugubris90.mp3","Anaxyrus_punctatus2.mp3","spring-peeper.mp3"],Vu=new hv,Iv=`${Cv}/${Fv[2]}`,ff=Pe(!1),fe=1024,eo=Pe([]),Ev=Pe(!0),Rv=50;let zi;const ro=Pe(""),Mv={foo:"bar"},oo=()=>{const s=window.document.location.hash;ro.set(s),of.set(s.includes("#")),console.log("hash in store",ro)},Ov=()=>{history.pushState(Mv,null,"/"),oo()};function Lv(s){eo.update(u=>[...u,s]),setInterval(()=>{s.updateState(),eo.update(u=>u)},Rv)}const Bv=()=>Vu.start().then(s=>{console.log("res after start",s),zi=Vu.input,ff.set(!0),Qt.times(Tv,()=>{const u=new Av(Vu,Iv);u.initialize().then(()=>{Lv(u)})})}).catch(s=>{console.error("here",s),sf.set(!0),af.set(s)});oo();function Dv(s){let u,i,h,l;const b=s[3].default,g=P_(b,s,s[2],null);return{c(){u=H("section"),g&&g.c(),ut(u,"class",i=(s[0]?"":"hidden")+" max-w-xl m-auto pl-6 pr-6 text-left")},m(v,T){qt(v,u,T),g&&g.m(u,null),l=!0},p(v,[T]){g&&g.p&&(!l||T&4)&&W_(g,b,v,v[2],l?z_(b,v[2],T,null):U_(v[2]),null),(!l||T&1&&i!==(i=(v[0]?"":"hidden")+" max-w-xl m-auto pl-6 pr-6 text-left"))&&ut(u,"class",i)},i(v){l||(Bn(g,v),zr(()=>{h||(h=Wa(u,Ua,{},!0)),h.run(1)}),l=!0)},o(v){Jn(g,v),h||(h=Wa(u,Ua,{},!1)),h.run(0),l=!1},d(v){v&&Wt(u),g&&g.d(v),v&&h&&h.end()}}}function Pv(s,u,i){let{$$slots:h={},$$scope:l}=u,{hashString:b}=u,{showSection:g=!1}=u;return ro.subscribe(v=>{i(0,g=v===b)}),s.$$set=v=>{"hashString"in v&&i(1,b=v.hashString),"showSection"in v&&i(0,g=v.showSection),"$$scope"in v&&i(2,l=v.$$scope)},[g,b,l,h]}class ka extends Ur{constructor(u){super(),Wr(this,u,Pv,Dv,hr,{hashString:1,showSection:0})}}function qa(s){let u;return{c(){u=H("a"),u.textContent="INFO",ut(u,"href","#info")},m(i,h){qt(i,u,h)},d(i){i&&Wt(u)}}}function Ga(s){let u,i,h;return{c(){u=H("button"),u.textContent="✘",ut(u,"class","absolute left-6 top-4")},m(l,b){qt(l,u,b),i||(h=nf(u,"click",Ov),i=!0)},p:Vt,d(l){l&&Wt(u),i=!1,h()}}}function zv(s){let u,i,h,l,b,g=!s[0]&&qa(),v=s[0]&&Ga();return{c(){u=H("header"),i=H("nav"),h=H("ul"),l=H("li"),g&&g.c(),b=ct(),v&&v.c(),ut(h,"class","p-4"),Da(h,"open",open),ut(i,"class","text-gray-600 body-font"),ut(u,"class","bg-gray-100 text-xl text-left h-14")},m(T,R){qt(T,u,R),O(u,i),O(i,h),O(h,l),g&&g.m(l,null),O(i,b),v&&v.m(i,null)},p(T,[R]){T[0]?g&&(g.d(1),g=null):g||(g=qa(),g.c(),g.m(l,null)),R&0&&Da(h,"open",open),T[0]?v?v.p(T,R):(v=Ga(),v.c(),v.m(i,null)):v&&(v.d(1),v=null)},i:Vt,o:Vt,d(T){T&&Wt(u),g&&g.d(),v&&v.d()}}}function Wv(s,u,i){let h;return Lr(s,of,l=>i(0,h=l)),[h]}class Uv extends Ur{constructor(u){super(),Wr(this,u,Wv,zv,hr,{})}}function Nv(s){var Hr,kr,gr,qr;let u,i,h,l,b,g,v,T,R,L,P,k,N,X,J=Qt.round(s[3],3)+"",Y,nt,et,at,vt=Qt.round(s[4],3)+"",mt,Lt,bt,Dt,Rt=Qt.round(s[1],2)+"",jt,en,Gt,U,Zt=Math.round(s[2])+"",_,p,S,m,F,B,z,$=Qt.round((kr=(Hr=s[5])==null?void 0:Hr.loudness)==null?void 0:kr.total,2)+"",q,G,Z,wt,Q=Qt.round((gr=s[5])==null?void 0:gr.perceptualSpread,2)+"",Ct,Ft,Mt,Xt,gt=((qr=s[5])==null?void 0:qr.spectralSlope)+"",At,_t,Pt,ce,It,_n,$n,An,Jt,Hn,on,Ae,kn,he,qn,Dn,pe,Tn,Qn,Vn,Pn,Gn,Kn,Te,ze,We,Nr,ge,Ue,pr,Ne,He;return{c(){u=H("div"),i=H("div"),h=ct(),l=H("div"),b=H("header"),g=kt("Frog "),v=kt(s[0]),T=ct(),R=H("div"),L=H("header"),L.textContent="Basic Metrics",P=ct(),k=H("ul"),N=H("li"),X=kt("Shyness: "),Y=kt(J),nt=ct(),et=H("li"),at=kt("Eagerness: "),mt=kt(vt),Lt=ct(),bt=H("li"),Dt=kt("Amplitude: "),jt=kt(Rt),en=ct(),Gt=H("li"),U=kt("Conv Amp: "),_=kt(Zt),p=ct(),S=H("header"),S.textContent="Audio Features",m=ct(),F=H("ul"),B=H("li"),z=kt("Loudness: "),q=kt($),G=ct(),Z=H("li"),wt=kt("Spread: "),Ct=kt(Q),Ft=ct(),Mt=H("li"),Xt=kt("Slope: "),At=kt(gt),_t=ct(),Pt=H("header"),Pt.textContent="Figures",ce=ct(),It=H("div"),_n=H("div"),$n=H("header"),$n.textContent="Audio Imprint",An=ct(),Jt=H("canvas"),Hn=ct(),on=H("div"),Ae=H("header"),Ae.textContent="FFT",kn=ct(),he=H("canvas"),qn=ct(),Dn=H("ul"),pe=ct(),Tn=H("div"),Qn=H("header"),Qn.textContent="Ambient Baseline",Vn=ct(),Pn=H("canvas"),Gn=ct(),Kn=H("div"),Te=H("header"),Te.textContent="Convolution",ze=ct(),We=H("canvas"),Nr=ct(),ge=H("div"),Ue=H("header"),Ue.textContent="FFT Differential",pr=ct(),Ne=H("canvas"),ut(i,"class","frog-item-state"),ut(b,"class","text-2xl"),ut(L,"class","text-xl mb-2"),ut(N,"class","h-14 p-2 basis-2/4"),ut(et,"class","h-14 p-2 basis-2/4"),ut(bt,"class","h-14 p-2 basis-2/4"),ut(Gt,"class","h-14 p-2 basis-2/4"),ut(k,"class","flex flex-row flex-wrap"),ut(S,"class","mt-4 text-xl"),ut(R,"class","mt-2"),ut(Pt,"class","text-xl mt-8 mb-2"),ut(Jt,"class","w-full"),ut(_n,"class","basis-2/4 p-2 shrink"),ut(he,"class","w-full"),ut(on,"class","basis-2/4 p-2 shrink"),ut(Pn,"class","w-full"),ut(Tn,"class","basis-2/4 p-2"),ut(We,"class","w-full"),ut(Kn,"class","basis-2/4 p-2"),ut(Ne,"class","w-full"),ut(ge,"class","basis-2/4 p-2"),ut(It,"class","flex flex-wrap flex-row"),ut(l,"class","frog-debug-panel mt-2"),ut(u,"class",He="frog-item max-w-lg m-auto border-black border-4 p-4 rounded-md transition-colors duration-500 "+(s[6]?"bg-lime-800":""))},m(sn,vn){qt(sn,u,vn),O(u,i),O(u,h),O(u,l),O(l,b),O(b,g),O(b,v),O(l,T),O(l,R),O(R,L),O(R,P),O(R,k),O(k,N),O(N,X),O(N,Y),O(k,nt),O(k,et),O(et,at),O(et,mt),O(k,Lt),O(k,bt),O(bt,Dt),O(bt,jt),O(k,en),O(k,Gt),O(Gt,U),O(Gt,_),O(R,p),O(R,S),O(R,m),O(R,F),O(F,B),O(B,z),O(B,q),O(F,G),O(F,Z),O(Z,wt),O(Z,Ct),O(F,Ft),O(F,Mt),O(Mt,Xt),O(Mt,At),O(l,_t),O(l,Pt),O(l,ce),O(l,It),O(It,_n),O(_n,$n),O(_n,An),O(_n,Jt),s[17](Jt),O(It,Hn),O(It,on),O(on,Ae),O(on,kn),O(on,he),s[18](he),O(on,qn),O(on,Dn),O(It,pe),O(It,Tn),O(Tn,Qn),O(Tn,Vn),O(Tn,Pn),s[19](Pn),O(It,Gn),O(It,Kn),O(Kn,Te),O(Kn,ze),O(Kn,We),s[20](We),O(It,Nr),O(It,ge),O(ge,Ue),O(ge,pr),O(ge,Ne),s[21](Ne)},p(sn,[vn]){var ke,Gr,qe,Kr;vn&1&&ae(v,sn[0]),vn&8&&J!==(J=Qt.round(sn[3],3)+"")&&ae(Y,J),vn&16&&vt!==(vt=Qt.round(sn[4],3)+"")&&ae(mt,vt),vn&2&&Rt!==(Rt=Qt.round(sn[1],2)+"")&&ae(jt,Rt),vn&4&&Zt!==(Zt=Math.round(sn[2])+"")&&ae(_,Zt),vn&32&&$!==($=Qt.round((Gr=(ke=sn[5])==null?void 0:ke.loudness)==null?void 0:Gr.total,2)+"")&&ae(q,$),vn&32&&Q!==(Q=Qt.round((qe=sn[5])==null?void 0:qe.perceptualSpread,2)+"")&&ae(Ct,Q),vn&32&&gt!==(gt=((Kr=sn[5])==null?void 0:Kr.spectralSlope)+"")&&ae(At,gt),vn&64&&He!==(He="frog-item max-w-lg m-auto border-black border-4 p-4 rounded-md transition-colors duration-500 "+(sn[6]?"bg-lime-800":""))&&ut(u,"class",He)},i:Vt,o:Vt,d(sn){sn&&Wt(u),s[17](null),s[18](null),s[19](null),s[20](null),s[21](null)}}}function Hv(s,u,i){let{id:h}=u,{audioImprint:l}=u,{amplitude:b}=u,{convolutionAmplitude:g}=u,{shyness:v}=u,{eagerness:T}=u,{directInputFFT:R}=u,{convolutionFFT:L}=u,{diffFFT:P}=u,{ambientFFT:k}=u,{audioFeatures:N}=u,{isCurrentlySinging:X}=u,J,Y,nt,et,at;function vt(U){Y&&Mr(U,Y)}function mt(U){nt&&Mr(U,nt)}function Lt(U){et&&Mr(U,et)}function bt(U){!at||!U||Mr(U,at)}V_(()=>{Mr(l,J)});function Dt(U){De[U?"unshift":"push"](()=>{J=U,i(7,J)})}function Rt(U){De[U?"unshift":"push"](()=>{Y=U,i(8,Y)})}function jt(U){De[U?"unshift":"push"](()=>{at=U,i(11,at)})}function en(U){De[U?"unshift":"push"](()=>{nt=U,i(9,nt)})}function Gt(U){De[U?"unshift":"push"](()=>{et=U,i(10,et)})}return s.$$set=U=>{"id"in U&&i(0,h=U.id),"audioImprint"in U&&i(12,l=U.audioImprint),"amplitude"in U&&i(1,b=U.amplitude),"convolutionAmplitude"in U&&i(2,g=U.convolutionAmplitude),"shyness"in U&&i(3,v=U.shyness),"eagerness"in U&&i(4,T=U.eagerness),"directInputFFT"in U&&i(13,R=U.directInputFFT),"convolutionFFT"in U&&i(14,L=U.convolutionFFT),"diffFFT"in U&&i(15,P=U.diffFFT),"ambientFFT"in U&&i(16,k=U.ambientFFT),"audioFeatures"in U&&i(5,N=U.audioFeatures),"isCurrentlySinging"in U&&i(6,X=U.isCurrentlySinging)},s.$$.update=()=>{s.$$.dirty&122880&&(vt(R),mt(L),Lt(P),bt(k))},[h,b,g,v,T,N,X,J,Y,nt,et,at,l,R,L,P,k,Dt,Rt,jt,en,Gt]}class kv extends Ur{constructor(u){super(),Wr(this,u,Hv,Nv,hr,{id:0,audioImprint:12,amplitude:1,convolutionAmplitude:2,shyness:3,eagerness:4,directInputFFT:13,convolutionFFT:14,diffFFT:15,ambientFFT:16,audioFeatures:5,isCurrentlySinging:6})}}const qv="/svelte-frog/assets/hess_diagram-d7664ffa.jpeg";function Ka(s,u,i){const h=s.slice();return h[4]=u[i],h}function Gv(s){let u,i,h=s[3],l=[];for(let g=0;g<h.length;g+=1)l[g]=Ya(Ka(s,h,g));const b=g=>Jn(l[g],1,1,()=>{l[g]=null});return{c(){u=H("div");for(let g=0;g<l.length;g+=1)l[g].c();ut(u,"class","flex flex-row p-4")},m(g,v){qt(g,u,v);for(let T=0;T<l.length;T+=1)l[T].m(u,null);i=!0},p(g,v){if(v&8){h=g[3];let T;for(T=0;T<h.length;T+=1){const R=Ka(g,h,T);l[T]?(l[T].p(R,v),Bn(l[T],1)):(l[T]=Ya(R),l[T].c(),Bn(l[T],1),l[T].m(u,null))}for(rf(),T=h.length;T<l.length;T+=1)b(T);uf()}},i(g){if(!i){for(let v=0;v<h.length;v+=1)Bn(l[v]);i=!0}},o(g){l=l.filter(Boolean);for(let v=0;v<l.length;v+=1)Jn(l[v]);i=!1},d(g){g&&Wt(u),G_(l,g)}}}function Kv(s){let u,i,h;function l(v,T){return v[1]?Yv:Zv}let b=l(s),g=b(s);return{c(){u=H("h1"),u.textContent="Frog Chorus",i=ct(),g.c(),h=tf(),ut(u,"class","text-4xl mt-4 text-center")},m(v,T){qt(v,u,T),qt(v,i,T),g.m(v,T),qt(v,h,T)},p(v,T){b===(b=l(v))&&g?g.p(v,T):(g.d(1),g=b(v),g&&(g.c(),g.m(h.parentNode,h)))},i:Vt,o:Vt,d(v){v&&Wt(u),v&&Wt(i),g.d(v),v&&Wt(h)}}}function Ya(s){let u,i;const h=[s[4]];let l={};for(let b=0;b<h.length;b+=1)l=Xa(l,h[b]);return u=new kv({props:l}),{c(){Br(u.$$.fragment)},m(b,g){ar(u,b,g),i=!0},p(b,g){const v=g&8?iv(h,[uv(b[4])]):{};u.$set(v)},i(b){i||(Bn(u.$$.fragment,b),i=!0)},o(b){Jn(u.$$.fragment,b),i=!1},d(b){fr(u,b)}}}function Yv(s){let u,i,h,l,b;return{c(){u=H("div"),i=H("p"),h=kt('There was an error setting up your frog: "'),l=kt(s[2]),b=kt('". Please try on a newer version of the Chrome browser.'),ut(i,"class","mt-4 text-base")},m(g,v){qt(g,u,v),O(u,i),O(i,h),O(i,l),O(i,b)},p(g,v){v&4&&ae(l,g[2])},d(g){g&&Wt(u)}}}function Zv(s){let u,i,h,l,b,g,v,T,R;return{c(){u=H("p"),u.textContent="Frog Chorus is a simple application that allows your mobile device or computer to sing in a “chorus” of other devices, as if they were a chorus of frogs in the wild. This application uses your device's built-in speaker and microphone to operate, and does not require that devices be connected on a common Wi-Fi network.",i=ct(),h=H("p"),h.textContent="If you'd like to learn more about actual frog choruses, see TK TK.",l=ct(),b=H("p"),b.innerHTML='This project is dedicated to the memory of the Dutch sound artist, <a href="https://simple.wikipedia.org/wiki/Felix_Hess">Felix Hess</a> (1941 - 2022). To learn more about his installation work and the origins of this project, see <a href="#info">info</a>.',g=ct(),v=H("button"),v.textContent="START",ut(v,"class","border-black border-2 bg-white rounded-lg p-2 mt-4 tracking-wider m-auto block")},m(L,P){qt(L,u,P),qt(L,i,P),qt(L,h,P),qt(L,l,P),qt(L,b,P),qt(L,g,P),qt(L,v,P),T||(R=nf(v,"click",Bv,{once:!0}),T=!0)},p:Vt,d(L){L&&Wt(u),L&&Wt(i),L&&Wt(h),L&&Wt(l),L&&Wt(b),L&&Wt(g),L&&Wt(v),T=!1,R()}}}function Xv(s){let u,i,h,l;const b=[Kv,Gv],g=[];function v(T,R){return T[0]?1:0}return u=v(s),i=g[u]=b[u](s),{c(){i.c(),h=tf()},m(T,R){g[u].m(T,R),qt(T,h,R),l=!0},p(T,R){let L=u;u=v(T),u===L?g[u].p(T,R):(rf(),Jn(g[L],1,1,()=>{g[L]=null}),uf(),i=g[u],i?i.p(T,R):(i=g[u]=b[u](T),i.c()),Bn(i,1),i.m(h.parentNode,h))},i(T){l||(Bn(i),l=!0)},o(T){Jn(i),l=!1},d(T){g[u].d(T),T&&Wt(h)}}}function Jv(s){let u,i,h,l,b,g,v,T,R,L,P,k,N,X,J,Y,nt,et;return{c(){u=H("div"),i=H("p"),i.textContent="This project is a translation of a series of art installations by the late Dutch sound artist Felix Hess. The first such installation was developed in 1982, with a set of fifty robots,each outfitted with a microphone, speaker, and circuitry to allow each robot to listen to its environment and make sounds in the manner of a frog in a frog chorus.",h=ct(),l=H("p"),l.textContent=`Hess' original designs for accomplishing this were are relatively straightfoward, in which the robot-frog's sounding behavior is predicated on "eagerness" and "shyness". When eagerness is high relative to shyness, the robot will emit a chirp, which is then "heard" by the other robots. Each robot will increase its eagerness when it hears another's chirp, and will increase its shyness when it hears non-chirping sounds. Through this simple set of rules, a dynamic chorus of sounds emerges, which is highly sensitive to environmental dynamics, much like if one were encountering a group of frogs in the wild.`,b=ct(),g=H("figure"),v=H("img"),R=ct(),L=H("figcaption"),L.innerHTML='Flow diagram of the frog behavior excerpted from Hess&#39; <a href="https://isea-archives.siggraph.org/art-events/electronic-sound-creatures-by-felix-hess/" class="italic">Electronic Sound Creatures</a>',P=ct(),k=H("p"),k.innerHTML='The project presented here utilizes the Web Audio API to make a browser-based translation of Hess&#39; robot-frogs, allowing a set of users in physical, acoustic proximity to have their mobile devices &quot;sing&quot; to each other as if they were frogs. The implementation of &quot;hearing&quot; is predicated here on relatively unsophisticated FFT (fast fourier transform) analysis via the <a href="https://developer.mozilla.org/en-US/docs/Web/API/AnalyserNode">Web Audio AnalyserNode</a>.',N=ct(),X=H("p"),X.innerHTML='For more information about the developer of this project, visit <a href="https://reubenson.com">https://reubenson.com</a>.',J=ct(),Y=H("h6"),Y.textContent="References",nt=ct(),et=H("ol"),et.innerHTML=`<li class="list-inside"><a href="https://bldgblog.com/2008/04/space-as-a-symphony-of-turning-off-sounds/" target="_blank" rel="noreferrer">A brief historical introduction on BLDG Blog</a></li> 
      <li class="list-inside"><a href="https://www.youtube.com/watch?v=rMnFKYHzm2k" target="_blank" rel="noreferrer">Artist talk by Felix Hess in 2010 (YouTube)</a></li> 
      <li class="list-inside"><a href="https://www.kehrerverlag.com/en/felix-hess-light-as-air-978-3-933257-65-9" target="_blank" rel="noreferrer">&quot;Light as Air&quot;</a> monograph published by Kehrer Verlag</li> 
      <li class="list-inside"><a href="https://isea-archives.siggraph.org/art-events/electronic-sound-creatures-by-felix-hess/" target="_blank" rel="noreferrer" class="italic">Electronic Sound Creatures by Felix Hess</a></li> 
      <li class="list-inside"><a href="https://basicfunction-releases.bandcamp.com/album/frog-night" target="_blank" rel="noreferrer">Felix&#39;s audio recordings, recently reissued by Basic Function</a></li>`,L_(v.src,T=qv)||ut(v,"src",T),ut(v,"alt","Flow diagram of the frog behavior"),ut(L,"class","text-sm text-center"),ut(Y,"class","mt-4 text-lg"),ut(et,"class","list-disc"),ut(u,"class","text-base")},m(at,vt){qt(at,u,vt),O(u,i),O(u,h),O(u,l),O(u,b),O(u,g),O(g,v),O(g,R),O(g,L),O(u,P),O(u,k),O(u,N),O(u,X),O(u,J),O(u,Y),O(u,nt),O(u,et)},p:Vt,d(at){at&&Wt(u)}}}function $v(s){let u,i,h,l,b,g,v,T,R;return u=new fv({}),l=new Uv({}),g=new ka({props:{hashString:"",$$slots:{default:[Xv]},$$scope:{ctx:s}}}),T=new ka({props:{hashString:"#info",$$slots:{default:[Jv]},$$scope:{ctx:s}}}),{c(){Br(u.$$.fragment),i=ct(),h=H("main"),Br(l.$$.fragment),b=ct(),Br(g.$$.fragment),v=ct(),Br(T.$$.fragment),ut(h,"class","font-serif bg-emerald-100 h-screen text-center tracking-wider overflow-y-scroll pb-6")},m(L,P){ar(u,L,P),qt(L,i,P),qt(L,h,P),ar(l,h,null),O(h,b),ar(g,h,null),O(h,v),ar(T,h,null),R=!0},p(L,[P]){const k={};P&143&&(k.$$scope={dirty:P,ctx:L}),g.$set(k);const N={};P&128&&(N.$$scope={dirty:P,ctx:L}),T.$set(N)},i(L){R||(Bn(u.$$.fragment,L),Bn(l.$$.fragment,L),Bn(g.$$.fragment,L),Bn(T.$$.fragment,L),R=!0)},o(L){Jn(u.$$.fragment,L),Jn(l.$$.fragment,L),Jn(g.$$.fragment,L),Jn(T.$$.fragment,L),R=!1},d(L){fr(u,L),L&&Wt(i),L&&Wt(h),fr(l),fr(g),fr(T)}}}function Qv(s,u,i){let h,l,b,g;return Lr(s,ff,v=>i(0,h=v)),Lr(s,sf,v=>i(1,l=v)),Lr(s,af,v=>i(2,b=v)),Lr(s,eo,v=>i(3,g=v)),window.addEventListener("hashchange",oo),[h,l,b,g]}class Vv extends Ur{constructor(u){super(),Wr(this,u,Qv,$v,hr,{})}}new Vv({target:document.getElementById("app")});
